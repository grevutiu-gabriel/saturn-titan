//
// File:   ColourMaps.cc
// Author: M.R.Eggleston
//
// Created on 08 June 2010, 15:46
//

#include <iostream>
#include "ColourMaps.h"
#include "Utilities.h"

boost::shared_ptr<ColourMaps> ColourMaps::s_instance;

const QString ColourMaps::TEMP_MAP("~~~TEMP");
const unsigned int ColourMaps::MAX_COLOURS = 512;

QRgb cm_default0[] =
{
    qRgb(   0,   8,  25 ),
    qRgb(   0,  12,  35 ),
    qRgb(   0,  15,  45 ),
    qRgb(   0,  18,  55 ),
    qRgb(   0,  22,  65 ),
    qRgb(   0,  25,  75 ),
    qRgb(   0,  28,  85 ),
    qRgb(   0,  32,  95 ),
    qRgb(   0,  35, 105 ),
    qRgb(   0,  38, 115 ),
    qRgb(   0,  42, 125 ),
    qRgb(   0,  45, 135 ),
    qRgb(   0,  48, 145 ),
    qRgb(   0,  52, 155 ),
    qRgb(   0,  55, 165 ),
    qRgb(   0,  58, 175 ),
    qRgb(   0,  62, 185 ),
    qRgb(   0,  65, 195 ),
    qRgb(   0,  68, 205 ),
    qRgb(   0,  72, 215 ),
    qRgb(   0,  75, 225 ),
    qRgb(   0,  78, 235 ),
    qRgb(   0,  82, 245 ),
    qRgb(   0,  85, 255 ),
    qRgb(  10,  10, 255 ),
    qRgb(  20,  20, 255 ),
    qRgb(  30,  30, 255 ),
    qRgb(  40,  40, 255 ),
    qRgb(  50,  50, 255 ),
    qRgb(  60,  60, 255 ),
    qRgb(  70,  70, 255 ),
    qRgb(  80,  80, 255 ),
    qRgb(  90,  90, 255 ),
    qRgb( 100, 100, 255 ),
    qRgb( 110, 110, 255 ),
    qRgb( 120, 120, 255 ),
    qRgb( 130, 130, 255 ),
    qRgb( 140, 140, 255 ),
    qRgb( 150, 150, 255 ),
    qRgb( 160, 160, 255 ),
    qRgb( 170, 170, 255 ),
    qRgb( 180, 180, 255 ),
    qRgb( 190, 190, 255 ),
    qRgb( 200, 200, 255 ),
    qRgb( 210, 210, 255 ),
    qRgb( 220, 220, 255 ),
    qRgb( 230, 230, 255 ),
    qRgb( 240, 240, 255 ),
    qRgb( 250, 250, 255 ),
    qRgb( 240, 255, 240 ),
    qRgb( 230, 255, 230 ),
    qRgb( 220, 255, 220 ),
    qRgb( 210, 255, 210 ),
    qRgb( 200, 255, 200 ),
    qRgb( 190, 255, 190 ),
    qRgb( 180, 255, 180 ),
    qRgb( 170, 255, 170 ),
    qRgb( 160, 255, 160 ),
    qRgb( 150, 255, 150 ),
    qRgb( 140, 255, 140 ),
    qRgb( 130, 255, 130 ),
    qRgb( 120, 255, 120 ),
    qRgb( 110, 255, 110 ),
    qRgb( 100, 255, 100 ),
    qRgb(  90, 255,  90 ),
    qRgb(  80, 255,  80 ),
    qRgb(  70, 255,  70 ),
    qRgb(  60, 255,  60 ),
    qRgb(  50, 255,  50 ),
    qRgb(  40, 255,  40 ),
    qRgb(  30, 255,  30 ),
    qRgb(  20, 255,  20 ),
    qRgb(  10, 255,  10 ),
    qRgb(   0, 240,   0 ),
    qRgb(   0, 230,   0 ),
    qRgb(   0, 220,   0 ),
    qRgb(   0, 210,   0 ),
    qRgb(   0, 200,   0 ),
    qRgb(   0, 190,   0 ),
    qRgb(   0, 180,   0 ),
    qRgb(   0, 170,   0 ),
    qRgb(   0, 160,   0 ),
    qRgb(   0, 150,   0 ),
    qRgb(   0, 140,   0 ),
    qRgb(   0, 130,   0 ),
    qRgb(   0, 120,   0 ),
    qRgb(   0, 110,   0 ),
    qRgb(   0, 100,   0 ),
    qRgb(   0,  90,   0 ),
    qRgb(   0,  80,   0 ),
    qRgb(   0,  70,   0 ),
    qRgb(   0,  60,   0 ),
    qRgb(   0,  50,   0 ),
    qRgb(   0,  40,   0 ),
    qRgb(   0,  30,   0 ),
    qRgb(  25,   0,   0 ),
    qRgb(  35,   0,   0 ),
    qRgb(  45,   0,   0 ),
    qRgb(  55,   0,   0 ),
    qRgb(  65,   0,   0 ),
    qRgb(  75,   0,   0 ),
    qRgb(  85,   0,   0 ),
    qRgb(  95,   0,   0 ),
    qRgb( 105,   0,   0 ),
    qRgb( 115,   0,   0 ),
    qRgb( 125,   0,   0 ),
    qRgb( 135,   0,   0 ),
    qRgb( 145,   0,   0 ),
    qRgb( 155,   0,   0 ),
    qRgb( 165,   0,   0 ),
    qRgb( 175,   0,   0 ),
    qRgb( 185,   0,   0 ),
    qRgb( 195,   0,   0 ),
    qRgb( 205,   0,   0 ),
    qRgb( 215,   0,   0 ),
    qRgb( 225,   0,   0 ),
    qRgb( 235,   0,   0 ),
    qRgb( 245,   0,   0 ),
    qRgb( 255,  15,  15 ),
    qRgb( 255,  25,  25 ),
    qRgb( 255,  35,  35 ),
    qRgb( 255,  45,  45 ),
    qRgb( 255,  55,  55 ),
    qRgb( 255,  65,  65 ),
    qRgb( 255,  75,  75 ),
    qRgb( 255,  85,  85 ),
    qRgb( 255,  95,  95 ),
    qRgb( 255, 105, 105 ),
    qRgb( 255, 115, 115 ),
    qRgb( 255, 125, 125 ),
    qRgb( 255, 135, 135 ),
    qRgb( 255, 145, 145 ),
    qRgb( 255, 155, 155 ),
    qRgb( 255, 165, 165 ),
    qRgb( 255, 175, 175 ),
    qRgb( 255, 185, 185 ),
    qRgb( 255, 195, 195 ),
    qRgb( 255, 205, 205 ),
    qRgb( 255, 215, 215 ),
    qRgb( 255, 225, 225 ),
    qRgb( 255, 235, 235 ),
    qRgb( 255, 245, 245 ),
    qRgb( 240, 255, 255 ),
    qRgb( 230, 255, 255 ),
    qRgb( 220, 255, 255 ),
    qRgb( 210, 255, 255 ),
    qRgb( 200, 255, 255 ),
    qRgb( 190, 255, 255 ),
    qRgb( 180, 255, 255 ),
    qRgb( 170, 255, 255 ),
    qRgb( 160, 255, 255 ),
    qRgb( 150, 255, 255 ),
    qRgb( 140, 255, 255 ),
    qRgb( 130, 255, 255 ),
    qRgb( 120, 255, 255 ),
    qRgb( 110, 255, 255 ),
    qRgb( 100, 255, 255 ),
    qRgb(  90, 255, 255 ),
    qRgb(  80, 255, 255 ),
    qRgb(  70, 255, 255 ),
    qRgb(  60, 255, 255 ),
    qRgb(  50, 255, 255 ),
    qRgb(  40, 255, 255 ),
    qRgb(  30, 255, 255 ),
    qRgb(  20, 255, 255 ),
    qRgb(  10, 255, 255 ),
    qRgb(   0, 240, 240 ),
    qRgb(   0, 230, 230 ),
    qRgb(   0, 220, 220 ),
    qRgb(   0, 210, 210 ),
    qRgb(   0, 200, 200 ),
    qRgb(   0, 190, 190 ),
    qRgb(   0, 180, 180 ),
    qRgb(   0, 170, 170 ),
    qRgb(   0, 160, 160 ),
    qRgb(   0, 150, 150 ),
    qRgb(   0, 140, 140 ),
    qRgb(   0, 130, 130 ),
    qRgb(   0, 120, 120 ),
    qRgb(   0, 110, 110 ),
    qRgb(   0, 100, 100 ),
    qRgb(   0,  90,  90 ),
    qRgb(   0,  80,  80 ),
    qRgb(   0,  70,  70 ),
    qRgb(   0,  60,  60 ),
    qRgb(   0,  50,  50 ),
    qRgb(   0,  40,  40 ),
    qRgb(   0,  30,  30 )
};

QRgb cm_default1[] =
{
    qRgb(  7, 229, 129 ),
    qRgb(  7, 228, 124 ),
    qRgb(  8, 226, 120 ),
    qRgb(  9, 224, 115 ),
    qRgb(  9, 221, 110 ),
    qRgb( 10, 219, 105 ),
    qRgb( 10, 217, 100 ),
    qRgb( 11, 215,  95 ),
    qRgb( 12, 213,  90 ),
    qRgb( 12, 210,  85 ),
    qRgb( 13, 208,  80 ),
    qRgb( 14, 205,  76 ),
    qRgb( 15, 203,  71 ),
    qRgb( 15, 200,  66 ),
    qRgb( 16, 198,  62 ),
    qRgb( 17, 195,  57 ),
    qRgb( 18, 193,  53 ),
    qRgb(  18, 190,  48 ),
    qRgb(  19, 187,  44 ),
    qRgb(  20, 184,  40 ),
    qRgb(  21, 182,  36 ),
    qRgb(  22, 179,  33 ),
    qRgb(  23, 176,  29 ),
    qRgb(  24, 173,  26 ),
    qRgb(  25, 170,  22 ),
    qRgb(  26, 167,  19 ),
    qRgb(  26, 164,  16 ),
    qRgb(  27, 161,  14 ),
    qRgb(  28, 158,  11 ),
    qRgb(  29, 155,   9 ),
    qRgb(  30, 152,   7 ),
    qRgb(  31, 149,   5 ),
    qRgb(  33, 146,   4 ),
    qRgb(  34, 143,   3 ),
    qRgb(  35, 139,   1 ),
    qRgb(  36, 136,   1 ),
    qRgb(  37, 133,   0 ),
    qRgb(  38, 130,   0 ),
    qRgb(  39, 127,   0 ),
    qRgb(  40, 124,   0 ),
    qRgb(  41, 121,   0 ),
    qRgb(  43, 118,   1 ),
    qRgb(  44, 115,   1 ),
    qRgb(  45, 111,   3 ),
    qRgb(  46, 108,   4 ),
    qRgb(  47, 105,   5 ),
    qRgb(  49, 102,   7 ),
    qRgb(  50,  99,   9 ),
    qRgb(  51,  96,  11 ),
    qRgb(  52,  93,  14 ),
    qRgb(  54,  90,  16 ),
    qRgb(  55,  87,  19 ),
    qRgb(  56,  84,  22 ),
    qRgb(  57,  81,  26 ),
    qRgb(  59,  78,  29 ),
    qRgb(  60,  75,  33 ),
    qRgb(  61,  72,  36 ),
    qRgb(  63,  70,  40 ),
    qRgb(  64,  67,  44 ),
    qRgb(  66,  64,  48 ),
    qRgb(  67,  61,  53 ),
    qRgb(  68,  59,  57 ),
    qRgb(  70,  56,  62 ),
    qRgb(  71,  54,  66 ),
    qRgb(  72,  51,  71 ),
    qRgb(  74,  49,  76 ),
    qRgb(  75,  46,  80 ),
    qRgb(  77,  44,  85 ),
    qRgb(  78,  41,  90 ),
    qRgb(  80,  39,  95 ),
    qRgb(  81,  37, 100 ),
    qRgb(  83,  35, 105 ),
    qRgb(  84,  33, 110 ),
    qRgb(  86,  30, 115 ),
    qRgb(  87,  28, 120 ),
    qRgb(  88,  26, 124 ),
    qRgb(  90,  25, 129 ),
    qRgb(  91,  23, 134 ),
    qRgb(  93,  21, 138 ),
    qRgb(  95,  19, 143 ),
    qRgb(  96,  18, 147 ),
    qRgb(  98,  16, 152 ),
    qRgb(  99,  15, 156 ),
    qRgb( 101,  13, 160 ),
    qRgb( 102,  12, 164 ),
    qRgb( 104,  10, 167 ),
    qRgb( 105,   9, 171 ),
    qRgb( 107,   8, 174 ),
    qRgb( 108,   7, 178 ),
    qRgb( 110,   6, 181 ),
    qRgb( 111,   5, 184 ),
    qRgb( 113,   4, 186 ),
    qRgb( 115,   3, 189 ),
    qRgb( 116,   3, 191 ),
    qRgb( 118,   2, 193 ),
    qRgb( 119,   1, 195 ),
    qRgb( 121,   1, 196 ),
    qRgb( 122,   0, 197 ),
    qRgb( 124,   0, 199 ),
    qRgb( 125,   0, 199 ),
    qRgb( 127,   0, 200 ),
    qRgb( 129,   0, 200 ),
    qRgb( 130,   0, 201 ),
    qRgb( 132,   0, 200 ),
    qRgb( 133,   0, 200 ),
    qRgb( 135,   0, 199 ),
    qRgb( 136,   0, 199 ),
    qRgb( 138,   0, 197 ),
    qRgb( 139,   1, 196 ),
    qRgb( 141,   1, 195 ),
    qRgb( 143,   2, 193 ),
    qRgb( 144,   3, 191 ),
    qRgb( 146,   3, 189 ),
    qRgb( 147,   4, 186 ),
    qRgb( 149,   5, 184 ),
    qRgb( 150,   6, 181 ),
    qRgb( 152,   7, 178 ),
    qRgb( 153,   8, 174 ),
    qRgb( 155,   9, 171 ),
    qRgb( 156,  10, 167 ),
    qRgb( 158,  12, 164 ),
    qRgb( 159,  13, 160 ),
    qRgb( 161,  15, 156 ),
    qRgb( 163,  16, 152 ),
    qRgb( 164,  18, 147 ),
    qRgb( 166,  19, 143 ),
    qRgb( 167,  21, 138 ),
    qRgb( 168,  23, 134 ),
    qRgb( 170,  25, 129 ),
    qRgb( 171,  26, 124 ),
    qRgb( 173,  28, 120 ),
    qRgb( 174,  30, 115 ),
    qRgb( 176,  33, 110 ),
    qRgb( 177,  35, 105 ),
    qRgb( 179,  37, 100 ),
    qRgb( 180,  39,  95 ),
    qRgb( 182,  41,  90 ),
    qRgb( 183,  44,  85 ),
    qRgb( 184,  46,  80 ),
    qRgb( 186,  49,  76 ),
    qRgb( 187,  51,  71 ),
    qRgb( 188,  54,  66 ),
    qRgb( 190,  56,  62 ),
    qRgb( 191,  59,  57 ),
    qRgb( 193,  61,  53 ),
    qRgb( 194,  64,  48 ),
    qRgb( 195,  67,  44 ),
    qRgb( 197,  70,  40 ),
    qRgb( 198,  72,  36 ),
    qRgb( 199,  75,  33 ),
    qRgb( 200,  78,  29 ),
    qRgb( 202,  81,  26 ),
    qRgb( 203,  84,  22 ),
    qRgb( 204,  87,  19 ),
    qRgb( 205,  90,  16 ),
    qRgb( 207,  93,  14 ),
    qRgb( 208,  96,  11 ),
    qRgb( 209,  99,   9 ),
    qRgb( 210, 102,   7 ),
    qRgb( 211, 105,   5 ),
    qRgb( 213, 108,   4 ),
    qRgb( 214, 111,   3 ),
    qRgb( 215, 115,   1 ),
    qRgb( 216, 118,   1 ),
    qRgb( 217, 121,   0 ),
    qRgb( 218, 124,   0 ),
    qRgb( 219, 127,   0 ),
    qRgb( 220, 130,   0 ),
    qRgb( 221, 133,   0 ),
    qRgb( 223, 136,   1 ),
    qRgb( 224, 139,   1 ),
    qRgb( 225, 143,   3 ),
    qRgb( 226, 146,   4 ),
    qRgb( 227, 149,   5 ),
    qRgb( 228, 152,   7 ),
    qRgb( 228, 155,   9 ),
    qRgb( 229, 158,  11 ),
    qRgb( 230, 161,  14 ),
    qRgb( 231, 164,  16 ),
    qRgb( 232, 167,  19 ),
    qRgb( 233, 170,  22 ),
    qRgb( 234, 173,  26 ),
    qRgb( 235, 176,  29 ),
    qRgb( 236, 179,  33 ),
    qRgb( 236, 182,  36 ),
    qRgb( 237, 184,  40 ),
    qRgb( 238, 187,  44 ),
    qRgb( 239, 190,  48 ),
    qRgb( 239, 193,  53 ),
    qRgb( 240, 195,  57 ),
    qRgb( 241, 198,  62 ),
    qRgb( 242, 200,  66 ),
    qRgb( 242, 203,  71 ),
    qRgb( 243, 205,  76 ),
    qRgb( 244, 208,  80 ),
    qRgb( 244, 210,  85 ),
    qRgb( 245, 213,  90 ),
    qRgb( 245, 215,  95 ),
    qRgb( 246, 217, 100 ),
    qRgb( 247, 219, 105 ),
    qRgb( 247, 221, 110 ),
    qRgb( 248, 224, 115 ),
    qRgb( 248, 226, 120 ),
    qRgb( 249, 228, 124 ),
    qRgb( 249, 229, 129 ),
    qRgb( 249, 231, 134 ),
    qRgb( 250, 233, 138 ),
    qRgb( 250, 235, 143 ),
    qRgb( 251, 236, 147 ),
    qRgb( 251, 238, 152 ),
    qRgb( 251, 239, 156 ),
    qRgb( 252, 241, 160 ),
    qRgb( 252, 242, 164 ),
    qRgb( 252, 244, 167 ),
    qRgb( 253, 245, 171 ),
    qRgb( 253, 246, 174 ),
    qRgb( 253, 247, 178 ),
    qRgb( 253, 248, 181 ),
    qRgb( 254, 249, 184 ),
    qRgb( 254, 250, 186 ),
    qRgb( 254, 251, 189 ),
    qRgb( 254, 251, 191 ),
    qRgb( 254, 252, 193 ),
    qRgb( 254, 253, 195 ),
    qRgb( 254, 253, 196 ),
    qRgb( 254, 254, 197 ),
    qRgb( 254, 254, 199 ),
    qRgb( 254, 254, 199 ),
    qRgb( 255, 254, 200 ),
    qRgb( 254, 254, 200 ),
    qRgb( 254, 255, 201 ),
    qRgb( 254, 254, 200 ),
    qRgb( 254, 254, 200 ),
    qRgb( 254, 254, 199 ),
    qRgb( 254, 254, 199 ),
    qRgb( 254, 254, 197 ),
    qRgb( 254, 253, 196 ),
    qRgb( 254, 253, 195 ),
    qRgb( 254, 252, 193 ),
    qRgb( 253, 251, 191 ),
    qRgb( 253, 251, 189 ),
    qRgb( 253, 250, 186 ),
    qRgb( 253, 249, 184 ),
    qRgb( 252, 248, 181 ),
    qRgb( 252, 247, 178 ),
    qRgb( 252, 246, 174 ),
    qRgb( 251, 245, 171 ),
    qRgb( 251, 244, 167 ),
    qRgb( 251, 242, 164 ),
    qRgb( 250, 241, 160 ),
    qRgb( 250, 239, 156 ),
    qRgb( 249, 238, 152 ),
    qRgb( 249, 236, 147 ),
    qRgb( 249, 235, 143 ),
    qRgb( 248, 233, 138 ),
    qRgb( 248, 231, 134 ),
    qRgb( 247, 229, 129 ),
    qRgb( 247, 228, 124 ),
    qRgb( 246, 226, 120 ),
    qRgb( 245, 224, 115 ),
    qRgb( 245, 221, 110 ),
    qRgb( 244, 219, 105 ),
    qRgb( 244, 217, 100 ),
    qRgb( 243, 215,  95 ),
    qRgb( 242, 213,  90 ),
    qRgb( 242, 210,  85 ),
    qRgb( 241, 208,  80 ),
    qRgb( 240, 205,  76 ),
    qRgb( 239, 203,  71 ),
    qRgb( 239, 200,  66 ),
    qRgb( 238, 198,  62 ),
    qRgb( 237, 195,  57 ),
    qRgb( 236, 193,  53 ),
    qRgb( 236, 190,  48 ),
    qRgb( 235, 187,  44 ),
    qRgb( 234, 184,  40 ),
    qRgb( 233, 182,  36 ),
    qRgb( 232, 179,  33 ),
    qRgb( 231, 176,  29 ),
    qRgb( 230, 173,  26 ),
    qRgb( 229, 170,  22 ),
    qRgb( 228, 167,  19 ),
    qRgb( 228, 164,  16 ),
    qRgb( 227, 161,  14 ),
    qRgb( 226, 158,  11 ),
    qRgb( 225, 155,   9 ),
    qRgb( 224, 152,   7 ),
    qRgb( 223, 149,   5 ),
    qRgb( 221, 146,   4 ),
    qRgb( 220, 143,   3 ),
    qRgb( 219, 139,   1 ),
    qRgb( 218, 136,   1 ),
    qRgb( 217, 133,   0 ),
    qRgb( 216, 130,   0 ),
    qRgb( 215, 127,   0 ),
    qRgb( 214, 124,   0 ),
    qRgb( 213, 121,   0 ),
    qRgb( 211, 118,   1 ),
    qRgb( 210, 115,   1 ),
    qRgb( 209, 111,   3 ),
    qRgb( 208, 108,   4 ),
    qRgb( 207, 105,   5 ),
    qRgb( 205, 102,   7 ),
    qRgb( 204,  99,   9 ),
    qRgb( 203,  96,  11 ),
    qRgb( 202,  93,  14 ),
    qRgb( 200,  90,  16 ),
    qRgb( 199,  87,  19 ),
    qRgb( 198,  84,  22 ),
    qRgb( 197,  81,  26 ),
    qRgb( 195,  78,  29 ),
    qRgb( 194,  75,  33 ),
    qRgb( 193,  72,  36 ),
    qRgb( 191,  70,  40 ),
    qRgb( 190,  67,  44 ),
    qRgb( 188,  64,  48 ),
    qRgb( 187,  61,  53 ),
    qRgb( 186,  59,  57 ),
    qRgb( 184,  56,  62 ),
    qRgb( 183,  54,  66 ),
    qRgb( 182,  51,  71 ),
    qRgb( 180,  49,  76 ),
    qRgb( 179,  46,  80 ),
    qRgb( 177,  44,  85 ),
    qRgb( 176,  41,  90 ),
    qRgb( 174,  39,  95 ),
    qRgb( 173,  37, 100 ),
    qRgb( 171,  35, 105 ),
    qRgb( 170,  33, 110 ),
    qRgb( 168,  30, 115 ),
    qRgb( 167,  28, 120 ),
    qRgb( 166,  26, 124 ),
    qRgb( 164,  25, 129 ),
    qRgb( 163,  23, 134 ),
    qRgb( 161,  21, 138 ),
    qRgb( 159,  19, 143 ),
    qRgb( 158,  18, 147 ),
    qRgb( 156,  16, 152 ),
    qRgb( 155,  15, 156 ),
    qRgb( 153,  13, 160 ),
    qRgb( 152,  12, 164 ),
    qRgb( 150,  10, 167 ),
    qRgb( 149,   9, 171 ),
    qRgb( 147,   8, 174 ),
    qRgb( 146,   7, 178 ),
    qRgb( 144,   6, 181 ),
    qRgb( 143,   5, 184 ),
    qRgb( 141,   4, 186 ),
    qRgb( 139,   3, 189 ),
    qRgb( 138,   3, 191 ),
    qRgb( 136,   2, 193 ),
    qRgb( 135,   1, 195 ),
    qRgb( 133,   1, 196 ),
    qRgb( 132,   0, 197 ),
    qRgb( 130,   0, 199 ),
    qRgb( 129,   0, 199 ),
    qRgb( 127,   0, 200 ),
    qRgb( 125,   0, 200 ),
    qRgb( 124,   0, 201 ),
    qRgb( 122,   0, 200 ),
    qRgb( 121,   0, 200 ),
    qRgb( 119,   0, 199 ),
    qRgb( 118,   0, 199 ),
    qRgb( 116,   0, 197 ),
    qRgb( 115,   1, 196 ),
    qRgb( 113,   1, 195 ),
    qRgb( 111,   2, 193 ),
    qRgb( 110,   3, 191 ),
    qRgb( 108,   3, 189 ),
    qRgb( 107,   4, 186 ),
    qRgb( 105,   5, 184 ),
    qRgb( 104,   6, 181 ),
    qRgb( 102,   7, 178 ),
    qRgb( 101,   8, 174 ),
    qRgb(  99,   9, 171 ),
    qRgb(  98,  10, 167 ),
    qRgb(  96,  12, 164 ),
    qRgb(  95,  13, 160 ),
    qRgb(  93,  15, 156 ),
    qRgb(  91,  16, 152 ),
    qRgb(  90,  18, 147 ),
    qRgb(  88,  19, 143 ),
    qRgb(  87,  21, 138 ),
    qRgb(  86,  23, 134 ),
    qRgb(  84,  25, 129 ),
    qRgb(  83,  26, 124 ),
    qRgb(  81,  28, 120 ),
    qRgb(  80,  30, 115 ),
    qRgb(  78,  33, 110 ),
    qRgb(  77,  35, 105 ),
    qRgb(  75,  37, 100 ),
    qRgb(  74,  39,  95 ),
    qRgb(  72,  41,  90 ),
    qRgb(  71,  44,  85 ),
    qRgb(  70,  46,  80 ),
    qRgb(  68,  49,  76 ),
    qRgb(  67,  51,  71 ),
    qRgb(  66,  54,  66 ),
    qRgb(  64,  56,  62 ),
    qRgb(  63,  59,  57 ),
    qRgb(  61,  61,  53 ),
    qRgb(  60,  64,  48 ),
    qRgb(  59,  67,  44 ),
    qRgb(  57,  70,  40 ),
    qRgb(  56,  72,  36 ),
    qRgb(  55,  75,  33 ),
    qRgb(  54,  78,  29 ),
    qRgb(  52,  81,  26 ),
    qRgb(  51,  84,  22 ),
    qRgb(  50,  87,  19 ),
    qRgb(  49,  90,  16 ),
    qRgb(  47,  93,  14 ),
    qRgb(  46,  96,  11 ),
    qRgb(  45,  99,   9 ),
    qRgb(  44, 102,   7 ),
    qRgb(  43, 105,   5 ),
    qRgb(  41, 108,   4 ),
    qRgb(  40, 111,   3 ),
    qRgb(  39, 115,   1 ),
    qRgb(  38, 118,   1 ),
    qRgb(  37, 121,   0 ),
    qRgb(  36, 124,   0 ),
    qRgb(  35, 127,   0 ),
    qRgb(  34, 130,   0 ),
    qRgb(  33, 133,   0 ),
    qRgb(  31, 136,   1 ),
    qRgb(  30, 139,   1 ),
    qRgb(  29, 143,   3 ),
    qRgb(  28, 146,   4 ),
    qRgb(  27, 149,   5 ),
    qRgb(  26, 152,   7 ),
    qRgb(  26, 155,   9 ),
    qRgb(  25, 158,  11 ),
    qRgb(  24, 161,  14 ),
    qRgb(  23, 164,  16 ),
    qRgb(  22, 167,  19 ),
    qRgb(  21, 170,  22 ),
    qRgb(  20, 173,  26 ),
    qRgb(  19, 176,  29 ),
    qRgb(  18, 179,  33 ),
    qRgb(  18, 182,  36 ),
    qRgb(  17, 184,  40 ),
    qRgb(  16, 187,  44 ),
    qRgb(  15, 190,  48 ),
    qRgb(  15, 193,  53 ),
    qRgb(  14, 195,  57 ),
    qRgb(  13, 198,  62 ),
    qRgb(  12, 200,  66 ),
    qRgb(  12, 203,  71 ),
    qRgb(  11, 205,  76 ),
    qRgb(  10, 208,  80 ),
    qRgb(  10, 210,  85 ),
    qRgb(   9, 213,  90 ),
    qRgb(   9, 215,  95 ),
    qRgb(   8, 217, 100 ),
    qRgb(   7, 219, 105 ),
    qRgb(   7, 221, 110 ),
    qRgb(   6, 224, 115 ),
    qRgb(   6, 226, 120 ),
    qRgb(   5, 228, 124 ),
    qRgb(   5, 229, 129 ),
    qRgb(   5, 231, 134 ),
    qRgb(   4, 233, 138 ),
    qRgb(   4, 235, 143 ),
    qRgb(   3, 236, 147 ),
    qRgb(   3, 238, 152 ),
    qRgb(   3, 239, 156 ),
    qRgb(   2, 241, 160 ),
    qRgb(   2, 242, 164 ),
    qRgb(   2, 244, 167 ),
    qRgb(   1, 245, 171 ),
    qRgb(   1, 246, 174 ),
    qRgb(   1, 247, 178 ),
    qRgb(   1, 248, 181 ),
    qRgb(   0, 249, 184 ),
    qRgb(   0, 250, 186 ),
    qRgb(   0, 251, 189 ),
    qRgb(   0, 251, 191 ),
    qRgb(   0, 252, 193 ),
    qRgb(   0, 253, 195 ),
    qRgb(   0, 253, 196 ),
    qRgb(   0, 254, 197 ),
    qRgb(   0, 254, 199 ),
    qRgb(   0, 254, 199 ),
    qRgb(   0, 254, 200 ),
    qRgb(   0, 254, 200 ),
    qRgb(   0, 255, 201 ),
    qRgb(   0, 254, 200 ),
    qRgb(   0, 254, 200 ),
    qRgb(   0, 254, 199 ),
    qRgb(   0, 254, 199 ),
    qRgb(   0, 254, 197 ),
    qRgb(   0, 253, 196 ),
    qRgb(   0, 253, 195 ),
    qRgb(   0, 252, 193 ),
    qRgb(   1, 251, 191 ),
    qRgb(   1, 251, 189 ),
    qRgb(   1, 250, 186 ),
    qRgb(   1, 249, 184 ),
    qRgb(   2, 248, 181 ),
    qRgb(   2, 247, 178 ),
    qRgb(   2, 246, 174 ),
    qRgb(   3, 245, 171 ),
    qRgb(   3, 244, 167 ),
    qRgb(   3, 242, 164 ),
    qRgb(   4, 241, 160 ),
    qRgb(   4, 239, 156 ),
    qRgb(   5, 238, 152 ),
    qRgb(   5, 236, 147 ),
    qRgb(   5, 235, 143 ),
    qRgb(   6, 233, 138 ),
    qRgb(   6, 231, 134 )
};

QRgb cm_default2[] =
{
    qRgb( 228, 150,  25 ),
    qRgb( 223, 150,  25 ),
    qRgb( 219, 151,  25 ),
    qRgb( 214, 150,  25 ),
    qRgb( 210, 150,  25 ),
    qRgb( 206, 150,  25 ),
    qRgb( 202, 150,  25 ),
    qRgb( 198, 150,  25 ),
    qRgb( 194, 150,  25 ),
    qRgb( 190, 150,  25 ),
    qRgb( 186, 149,  25 ),
    qRgb( 183, 149,  25 ),
    qRgb( 179, 149,  25 ),
    qRgb( 175, 149,  25 ),
    qRgb( 172, 148,  25 ),
    qRgb( 168, 148,  25 ),
    qRgb( 165, 147,  25 ),
    qRgb( 162, 147,  25 ),
    qRgb( 158, 146,  26 ),
    qRgb( 155, 146,  26 ),
    qRgb( 152, 145,  26 ),
    qRgb( 149, 145,  26 ),
    qRgb( 146, 144,  26 ),
    qRgb( 143, 144,  26 ),
    qRgb( 140, 143,  26 ),
    qRgb( 138, 142,  26 ),
    qRgb( 135, 142,  27 ),
    qRgb( 132, 141,  27 ),
    qRgb( 130, 140,  27 ),
    qRgb( 127, 139,  27 ),
    qRgb( 125, 138,  27 ),
    qRgb( 123, 138,  27 ),
    qRgb( 120, 137,  28 ),
    qRgb( 118, 136,  28 ),
    qRgb( 116, 135,  28 ),
    qRgb( 114, 134,  28 ),
    qRgb( 112, 133,  29 ),
    qRgb( 110, 132,  29 ),
    qRgb( 108, 131,  29 ),
    qRgb( 106, 130,  29 ),
    qRgb( 105, 129,  29 ),
    qRgb( 103, 128,  30 ),
    qRgb( 101, 127,  30 ),
    qRgb( 100, 126,  30 ),
    qRgb(  98, 125,  31 ),
    qRgb(  97, 124,  31 ),
    qRgb(  96, 122,  31 ),
    qRgb(  95, 121,  31 ),
    qRgb(  93, 120,  32 ),
    qRgb(  92, 119,  32 ),
    qRgb(  91, 118,  32 ),
    qRgb(  90, 117,  33 ),
    qRgb(  90, 115,  33 ),
    qRgb(  89, 114,  33 ),
    qRgb(  88, 113,  34 ),
    qRgb(  87, 112,  34 ),
    qRgb(  87, 110,  34 ),
    qRgb(  86, 109,  35 ),
    qRgb(  86, 108,  35 ),
    qRgb(  85, 107,  35 ),
    qRgb(  85, 105,  36 ),
    qRgb(  85, 104,  36 ),
    qRgb(  85, 103,  36 ),
    qRgb(  85, 101,  37 ),
    qRgb(  85, 100,  37 ),
    qRgb(  85,  99,  38 ),
    qRgb(  85,  98,  38 ),
    qRgb(  85,  96,  38 ),
    qRgb(  85,  95,  39 ),
    qRgb(  85,  94,  39 ),
    qRgb(  86,  92,  40 ),
    qRgb(  86,  91,  40 ),
    qRgb(  87,  90,  41 ),
    qRgb(  87,  88,  41 ),
    qRgb(  88,  87,  42 ),
    qRgb(  89,  86,  42 ),
    qRgb(  90,  85,  42 ),
    qRgb(  90,  83,  43 ),
    qRgb(  91,  82,  43 ),
    qRgb(  92,  81,  44 ),
    qRgb(  93,  80,  44 ),
    qRgb(  95,  78,  45 ),
    qRgb(  96,  77,  45 ),
    qRgb(  97,  76,  46 ),
    qRgb(  98,  75,  46 ),
    qRgb( 100,  74,  47 ),
    qRgb( 101,  73,  48 ),
    qRgb( 103,  71,  48 ),
    qRgb( 105,  70,  49 ),
    qRgb( 106,  69,  49 ),
    qRgb( 108,  68,  50 ),
    qRgb( 110,  67,  50 ),
    qRgb( 112,  66,  51 ),
    qRgb( 114,  65,  51 ),
    qRgb( 116,  64,  52 ),
    qRgb( 118,  63,  53 ),
    qRgb( 120,  62,  53 ),
    qRgb( 123,  61,  54 ),
    qRgb( 125,  60,  54 ),
    qRgb( 127,  59,  55 ),
    qRgb( 130,  58,  56 ),
    qRgb( 132,  57,  56 ),
    qRgb( 135,  57,  57 ),
    qRgb( 138,  56,  58 ),
    qRgb( 140,  55,  58 ),
    qRgb( 143,  54,  59 ),
    qRgb( 146,  53,  59 ),
    qRgb( 149,  53,  60 ),
    qRgb( 152,  52,  61 ),
    qRgb( 155,  51,  61 ),
    qRgb( 158,  51,  62 ),
    qRgb( 162,  50,  63 ),
    qRgb( 165,  50,  64 ),
    qRgb( 168,  49,  64 ),
    qRgb( 172,  49,  65 ),
    qRgb( 175,  48,  66 ),
    qRgb( 179,  48,  66 ),
    qRgb( 183,  47,  67 ),
    qRgb( 186,  47,  68 ),
    qRgb( 190,  46,  69 ),
    qRgb( 194,  46,  69 ),
    qRgb( 198,  46,  70 ),
    qRgb( 202,  46,  71 ),
    qRgb( 206,  45,  72 ),
    qRgb( 210,  45,  72 ),
    qRgb( 214,  45,  73 ),
    qRgb( 219,  45,  74 ),
    qRgb( 223,  45,  75 ),
    qRgb( 228,  45,  76 ),
    qRgb( 223,  45,  76 ),
    qRgb( 219,  45,  77 ),
    qRgb( 214,  45,  78 ),
    qRgb( 210,  45,  79 ),
    qRgb( 206,  45,  80 ),
    qRgb( 202,  45,  80 ),
    qRgb( 198,  45,  81 ),
    qRgb( 194,  45,  82 ),
    qRgb( 190,  45,  83 ),
    qRgb( 186,  46,  84 ),
    qRgb( 183,  46,  85 ),
    qRgb( 179,  46,  86 ),
    qRgb( 175,  46,  86 ),
    qRgb( 172,  47,  87 ),
    qRgb( 168,  47,  88 ),
    qRgb( 165,  48,  89 ),
    qRgb( 162,  48,  90 ),
    qRgb( 158,  49,  91 ),
    qRgb( 155,  49,  92 ),
    qRgb( 152,  50,  93 ),
    qRgb( 149,  50,  94 ),
    qRgb( 146,  51,  95 ),
    qRgb( 143,  51,  95 ),
    qRgb( 140,  52,  96 ),
    qRgb( 138,  53,  97 ),
    qRgb( 135,  53,  98 ),
    qRgb( 132,  54,  99 ),
    qRgb( 130,  55, 100 ),
    qRgb( 127,  56, 101 ),
    qRgb( 125,  57, 102 ),
    qRgb( 123,  57, 103 ),
    qRgb( 120,  58, 104 ),
    qRgb( 118,  59, 105 ),
    qRgb( 116,  60, 106 ),
    qRgb( 114,  61, 107 ),
    qRgb( 112,  62, 108 ),
    qRgb( 110,  63, 109 ),
    qRgb( 108,  64, 110 ),
    qRgb( 106,  65, 111 ),
    qRgb( 105,  66, 112 ),
    qRgb( 103,  67, 113 ),
    qRgb( 101,  68, 114 ),
    qRgb( 100,  69, 116 ),
    qRgb(  98,  70, 117 ),
    qRgb(  97,  71, 118 ),
    qRgb(  96,  73, 119 ),
    qRgb(  95,  74, 120 ),
    qRgb(  93,  75, 121 ),
    qRgb(  92,  76, 122 ),
    qRgb(  91,  77, 123 ),
    qRgb(  90,  78, 124 ),
    qRgb(  90,  80, 125 ),
    qRgb(  89,  81, 126 ),
    qRgb(  88,  82, 128 ),
    qRgb(  87,  83, 129 ),
    qRgb(  87,  85, 130 ),
    qRgb(  86,  86, 131 ),
    qRgb(  86,  87, 132 ),
    qRgb(  85,  88, 133 ),
    qRgb(  85,  90, 135 ),
    qRgb(  85,  91, 136 ),
    qRgb(  85,  92, 137 ),
    qRgb(  85,  94, 138 ),
    qRgb(  85,  95, 139 ),
    qRgb(  85,  96, 140 ),
    qRgb(  85,  98, 142 ),
    qRgb(  85,  99, 143 ),
    qRgb(  85, 100, 144 ),
    qRgb(  85, 101, 145 ),
    qRgb(  86, 103, 147 ),
    qRgb(  86, 104, 148 ),
    qRgb(  87, 105, 149 ),
    qRgb(  87, 107, 150 ),
    qRgb(  88, 108, 152 ),
    qRgb(  89, 109, 153 ),
    qRgb(  90, 110, 154 ),
    qRgb(  90, 112, 155 ),
    qRgb(  91, 113, 157 ),
    qRgb(  92, 114, 158 ),
    qRgb(  93, 115, 159 ),
    qRgb(  95, 117, 160 ),
    qRgb(  96, 118, 162 ),
    qRgb(  97, 119, 163 ),
    qRgb(  98, 120, 164 ),
    qRgb( 100, 121, 166 ),
    qRgb( 101, 122, 167 ),
    qRgb( 103, 124, 168 ),
    qRgb( 105, 125, 170 ),
    qRgb( 106, 126, 171 ),
    qRgb( 108, 127, 172 ),
    qRgb( 110, 128, 174 ),
    qRgb( 112, 129, 175 ),
    qRgb( 114, 130, 177 ),
    qRgb( 116, 131, 178 ),
    qRgb( 118, 132, 179 ),
    qRgb( 120, 133, 181 ),
    qRgb( 123, 134, 182 ),
    qRgb( 125, 135, 183 ),
    qRgb( 127, 136, 185 ),
    qRgb( 130, 137, 186 ),
    qRgb( 132, 138, 188 ),
    qRgb( 135, 138, 189 ),
    qRgb( 138, 139, 191 ),
    qRgb( 140, 140, 192 ),
    qRgb( 143, 141, 193 ),
    qRgb( 146, 142, 195 ),
    qRgb( 149, 142, 196 ),
    qRgb( 152, 143, 198 ),
    qRgb( 155, 144, 199 ),
    qRgb( 158, 144, 201 ),
    qRgb( 162, 145, 202 ),
    qRgb( 165, 145, 204 ),
    qRgb( 168, 146, 205 ),
    qRgb( 172, 146, 207 ),
    qRgb( 175, 147, 208 ),
    qRgb( 179, 147, 210 ),
    qRgb( 183, 148, 211 ),
    qRgb( 186, 148, 213 ),
    qRgb( 190, 149, 214 ),
    qRgb( 194, 149, 216 ),
    qRgb( 198, 149, 217 ),
    qRgb( 202, 149, 219 ),
    qRgb( 206, 150, 221 ),
    qRgb( 210, 150, 222 ),
    qRgb( 214, 150, 224 ),
    qRgb( 219, 150, 225 ),
    qRgb( 223, 150, 227 ),
    qRgb( 228, 150, 229 ),
    qRgb( 223, 150, 227 ),
    qRgb( 219, 151, 225 ),
    qRgb( 214, 150, 224 ),
    qRgb( 210, 150, 222 ),
    qRgb( 206, 150, 221 ),
    qRgb( 202, 150, 219 ),
    qRgb( 198, 150, 217 ),
    qRgb( 194, 150, 216 ),
    qRgb( 190, 150, 214 ),
    qRgb( 186, 149, 213 ),
    qRgb( 183, 149, 211 ),
    qRgb( 179, 149, 210 ),
    qRgb( 175, 149, 208 ),
    qRgb( 172, 148, 207 ),
    qRgb( 168, 148, 205 ),
    qRgb( 165, 147, 204 ),
    qRgb( 162, 147, 202 ),
    qRgb( 158, 146, 201 ),
    qRgb( 155, 146, 199 ),
    qRgb( 152, 145, 198 ),
    qRgb( 149, 145, 196 ),
    qRgb( 146, 144, 195 ),
    qRgb( 143, 144, 193 ),
    qRgb( 140, 143, 192 ),
    qRgb( 138, 142, 191 ),
    qRgb( 135, 142, 189 ),
    qRgb( 132, 141, 188 ),
    qRgb( 130, 140, 186 ),
    qRgb( 127, 139, 185 ),
    qRgb( 125, 138, 183 ),
    qRgb( 123, 138, 182 ),
    qRgb( 120, 137, 181 ),
    qRgb( 118, 136, 179 ),
    qRgb( 116, 135, 178 ),
    qRgb( 114, 134, 177 ),
    qRgb( 112, 133, 175 ),
    qRgb( 110, 132, 174 ),
    qRgb( 108, 131, 172 ),
    qRgb( 106, 130, 171 ),
    qRgb( 105, 129, 170 ),
    qRgb( 103, 128, 168 ),
    qRgb( 101, 127, 167 ),
    qRgb( 100, 126, 166 ),
    qRgb(  98, 125, 164 ),
    qRgb(  97, 124, 163 ),
    qRgb(  96, 122, 162 ),
    qRgb(  95, 121, 160 ),
    qRgb(  93, 120, 159 ),
    qRgb(  92, 119, 158 ),
    qRgb(  91, 118, 157 ),
    qRgb(  90, 117, 155 ),
    qRgb(  90, 115, 154 ),
    qRgb(  89, 114, 153 ),
    qRgb(  88, 113, 152 ),
    qRgb(  87, 112, 150 ),
    qRgb(  87, 110, 149 ),
    qRgb(  86, 109, 148 ),
    qRgb(  86, 108, 147 ),
    qRgb(  85, 107, 145 ),
    qRgb(  85, 105, 144 ),
    qRgb(  85, 104, 143 ),
    qRgb(  85, 103, 142 ),
    qRgb(  85, 101, 140 ),
    qRgb(  85, 100, 139 ),
    qRgb(  85,  99, 138 ),
    qRgb(  85,  98, 137 ),
    qRgb(  85,  96, 136 ),
    qRgb(  85,  95, 135 ),
    qRgb(  85,  94, 133 ),
    qRgb(  86,  92, 132 ),
    qRgb(  86,  91, 131 ),
    qRgb(  87,  90, 130 ),
    qRgb(  87,  88, 129 ),
    qRgb(  88,  87, 128 ),
    qRgb(  89,  86, 126 ),
    qRgb(  90,  85, 125 ),
    qRgb(  90,  83, 124 ),
    qRgb(  91,  82, 123 ),
    qRgb(  92,  81, 122 ),
    qRgb(  93,  80, 121 ),
    qRgb(  95,  78, 120 ),
    qRgb(  96,  77, 119 ),
    qRgb(  97,  76, 118 ),
    qRgb(  98,  75, 117 ),
    qRgb( 100,  74, 116 ),
    qRgb( 101,  73, 114 ),
    qRgb( 103,  71, 113 ),
    qRgb( 105,  70, 112 ),
    qRgb( 106,  69, 111 ),
    qRgb( 108,  68, 110 ),
    qRgb( 110,  67, 109 ),
    qRgb( 112,  66, 108 ),
    qRgb( 114,  65, 107 ),
    qRgb( 116,  64, 106 ),
    qRgb( 118,  63, 105 ),
    qRgb( 120,  62, 104 ),
    qRgb( 123,  61, 103 ),
    qRgb( 125,  60, 102 ),
    qRgb( 127,  59, 101 ),
    qRgb( 130,  58, 100 ),
    qRgb( 132,  57,  99 ),
    qRgb( 135,  57,  98 ),
    qRgb( 138,  56,  97 ),
    qRgb( 140,  55,  96 ),
    qRgb( 143,  54,  95 ),
    qRgb( 146,  53,  95 ),
    qRgb( 149,  53,  94 ),
    qRgb( 152,  52,  93 ),
    qRgb( 155,  51,  92 ),
    qRgb( 158,  51,  91 ),
    qRgb( 162,  50,  90 ),
    qRgb( 165,  50,  89 ),
    qRgb( 168,  49,  88 ),
    qRgb( 172,  49,  87 ),
    qRgb( 175,  48,  86 ),
    qRgb( 179,  48,  86 ),
    qRgb( 183,  47,  85 ),
    qRgb( 186,  47,  84 ),
    qRgb( 190,  46,  83 ),
    qRgb( 194,  46,  82 ),
    qRgb( 198,  46,  81 ),
    qRgb( 202,  46,  80 ),
    qRgb( 206,  45,  80 ),
    qRgb( 210,  45,  79 ),
    qRgb( 214,  45,  78 ),
    qRgb( 219,  45,  77 ),
    qRgb( 223,  45,  76 ),
    qRgb( 228,  45,  76 ),
    qRgb( 223,  45,  75 ),
    qRgb( 219,  45,  74 ),
    qRgb( 214,  45,  73 ),
    qRgb( 210,  45,  72 ),
    qRgb( 206,  45,  72 ),
    qRgb( 202,  45,  71 ),
    qRgb( 198,  45,  70 ),
    qRgb( 194,  45,  69 ),
    qRgb( 190,  45,  69 ),
    qRgb( 186,  46,  68 ),
    qRgb( 183,  46,  67 ),
    qRgb( 179,  46,  66 ),
    qRgb( 175,  46,  66 ),
    qRgb( 172,  47,  65 ),
    qRgb( 168,  47,  64 ),
    qRgb( 165,  48,  64 ),
    qRgb( 162,  48,  63 ),
    qRgb( 158,  49,  62 ),
    qRgb( 155,  49,  61 ),
    qRgb( 152,  50,  61 ),
    qRgb( 149,  50,  60 ),
    qRgb( 146,  51,  59 ),
    qRgb( 143,  51,  59 ),
    qRgb( 140,  52,  58 ),
    qRgb( 138,  53,  58 ),
    qRgb( 135,  53,  57 ),
    qRgb( 132,  54,  56 ),
    qRgb( 130,  55,  56 ),
    qRgb( 127,  56,  55 ),
    qRgb( 125,  57,  54 ),
    qRgb( 123,  57,  54 ),
    qRgb( 120,  58,  53 ),
    qRgb( 118,  59,  53 ),
    qRgb( 116,  60,  52 ),
    qRgb( 114,  61,  51 ),
    qRgb( 112,  62,  51 ),
    qRgb( 110,  63,  50 ),
    qRgb( 108,  64,  50 ),
    qRgb( 106,  65,  49 ),
    qRgb( 105,  66,  49 ),
    qRgb( 103,  67,  48 ),
    qRgb( 101,  68,  48 ),
    qRgb( 100,  69,  47 ),
    qRgb(  98,  70,  46 ),
    qRgb(  97,  71,  46 ),
    qRgb(  96,  73,  45 ),
    qRgb(  95,  74,  45 ),
    qRgb(  93,  75,  44 ),
    qRgb(  92,  76,  44 ),
    qRgb(  91,  77,  43 ),
    qRgb(  90,  78,  43 ),
    qRgb(  90,  80,  42 ),
    qRgb(  89,  81,  42 ),
    qRgb(  88,  82,  42 ),
    qRgb(  87,  83,  41 ),
    qRgb(  87,  85,  41 ),
    qRgb(  86,  86,  40 ),
    qRgb(  86,  87,  40 ),
    qRgb(  85,  88,  39 ),
    qRgb(  85,  90,  39 ),
    qRgb(  85,  91,  38 ),
    qRgb(  85,  92,  38 ),
    qRgb(  85,  94,  38 ),
    qRgb(  85,  95,  37 ),
    qRgb(  85,  96,  37 ),
    qRgb(  85,  97,  36 ),
    qRgb(  85,  99,  36 ),
    qRgb(  85, 100,  36 ),
    qRgb(  85, 101,  35 ),
    qRgb(  86, 103,  35 ),
    qRgb(  86, 104,  35 ),
    qRgb(  87, 105,  34 ),
    qRgb(  87, 107,  34 ),
    qRgb(  88, 108,  34 ),
    qRgb(  89, 109,  33 ),
    qRgb(  90, 110,  33 ),
    qRgb(  90, 112,  33 ),
    qRgb(  91, 113,  32 ),
    qRgb(  92, 114,  32 ),
    qRgb(  93, 115,  32 ),
    qRgb(  95, 117,  31 ),
    qRgb(  96, 118,  31 ),
    qRgb(  97, 119,  31 ),
    qRgb(  98, 120,  31 ),
    qRgb( 100, 121,  30 ),
    qRgb( 101, 122,  30 ),
    qRgb( 103, 124,  30 ),
    qRgb( 105, 125,  29 ),
    qRgb( 106, 126,  29 ),
    qRgb( 108, 127,  29 ),
    qRgb( 110, 128,  29 ),
    qRgb( 112, 129,  29 ),
    qRgb( 114, 130,  28 ),
    qRgb( 116, 131,  28 ),
    qRgb( 118, 132,  28 ),
    qRgb( 120, 133,  28 ),
    qRgb( 123, 134,  27 ),
    qRgb( 125, 135,  27 ),
    qRgb( 127, 136,  27 ),
    qRgb( 130, 137,  27 ),
    qRgb( 132, 138,  27 ),
    qRgb( 135, 138,  27 ),
    qRgb( 138, 139,  26 ),
    qRgb( 140, 140,  26 ),
    qRgb( 143, 141,  26 ),
    qRgb( 146, 142,  26 ),
    qRgb( 149, 142,  26 ),
    qRgb( 152, 143,  26 ),
    qRgb( 155, 144,  26 ),
    qRgb( 158, 144,  26 ),
    qRgb( 162, 145,  25 ),
    qRgb( 165, 145,  25 ),
    qRgb( 168, 146,  25 ),
    qRgb( 172, 146,  25 ),
    qRgb( 175, 147,  25 ),
    qRgb( 179, 147,  25 ),
    qRgb( 183, 148,  25 ),
    qRgb( 186, 148,  25 ),
    qRgb( 190, 149,  25 ),
    qRgb( 194, 149,  25 ),
    qRgb( 198, 149,  25 ),
    qRgb( 202, 149,  25 ),
    qRgb( 206, 150,  25 ),
    qRgb( 210, 150,  25 ),
    qRgb( 214, 150,  25 ),
    qRgb( 219, 150,  25 ),
    qRgb( 223, 150,  25 )
};

QRgb cm_default3[] =
{
    qRgb( 143,  64, 194 ),
    qRgb( 141,  64, 197 ),
    qRgb( 140,  65, 200 ),
    qRgb( 139,  65, 203 ),
    qRgb( 138,  65, 206 ),
    qRgb( 137,  66, 209 ),
    qRgb( 136,  66, 212 ),
    qRgb( 135,  66, 214 ),
    qRgb( 134,  66, 217 ),
    qRgb( 133,  66, 220 ),
    qRgb( 132,  67, 223 ),
    qRgb( 130,  66, 225 ),
    qRgb( 129,  66, 228 ),
    qRgb( 128,  66, 230 ),
    qRgb( 127,  66, 232 ),
    qRgb( 126,  66, 235 ),
    qRgb( 125,  65, 237 ),
    qRgb( 124,  65, 239 ),
    qRgb( 123,  65, 241 ),
    qRgb( 122,  64, 243 ),
    qRgb( 121,  64, 244 ),
    qRgb( 120,  63, 246 ),
    qRgb( 119,  62, 247 ),
    qRgb( 118,  62, 249 ),
    qRgb( 117,  61, 250 ),
    qRgb( 116,  60, 251 ),
    qRgb( 115,  59, 252 ),
    qRgb( 114,  58, 253 ),
    qRgb( 113,  57, 253 ),
    qRgb( 112,  56, 254 ),
    qRgb( 111,  55, 254 ),
    qRgb( 110,  54, 254 ),
    qRgb( 109,  53, 255 ),
    qRgb( 108,  52, 254 ),
    qRgb( 107,  51, 254 ),
    qRgb( 106,  50, 254 ),
    qRgb( 105,  49, 253 ),
    qRgb( 104,  48, 253 ),
    qRgb( 103,  46, 252 ),
    qRgb( 102,  45, 251 ),
    qRgb( 101,  44, 250 ),
    qRgb( 100,  43, 249 ),
    qRgb(  99,  42, 247 ),
    qRgb(  98,  40, 246 ),
    qRgb(  98,  39, 244 ),
    qRgb(  97,  38, 243 ),
    qRgb(  96,  37, 241 ),
    qRgb(  95,  35, 239 ),
    qRgb(  94,  34, 237 ),
    qRgb(  93,  33, 235 ),
    qRgb(  92,  32, 232 ),
    qRgb(  91,  31, 230 ),
    qRgb(  90,  30, 228 ),
    qRgb(  89,  29, 225 ),
    qRgb(  89,  28, 223 ),
    qRgb(  88,  27, 220 ),
    qRgb(  87,  26, 217 ),
    qRgb(  86,  25, 214 ),
    qRgb(  85,  24, 212 ),
    qRgb(  84,  23, 209 ),
    qRgb(  83,  22, 206 ),
    qRgb(  82,  21, 203 ),
    qRgb(  82,  21, 200 ),
    qRgb(  81,  20, 197 ),
    qRgb(  80,  19, 194 ),
    qRgb(  79,  19, 191 ),
    qRgb(  78,  18, 188 ),
    qRgb(  77,  18, 185 ),
    qRgb(  77,  18, 182 ),
    qRgb(  76,  17, 179 ),
    qRgb(  75,  17, 176 ),
    qRgb(  74,  17, 174 ),
    qRgb(  73,  17, 171 ),
    qRgb(  73,  17, 168 ),
    qRgb(  72,  17, 165 ),
    qRgb(  71,  17, 163 ),
    qRgb(  70,  17, 160 ),
    qRgb(  69,  17, 158 ),
    qRgb(  69,  17, 156 ),
    qRgb(  68,  17, 153 ),
    qRgb(  67,  18, 151 ),
    qRgb(  66,  18, 149 ),
    qRgb(  66,  18, 147 ),
    qRgb(  65,  19, 145 ),
    qRgb(  64,  19, 144 ),
    qRgb(  63,  20, 142 ),
    qRgb(  63,  21, 141 ),
    qRgb(  62,  21, 139 ),
    qRgb(  61,  22, 138 ),
    qRgb(  60,  23, 137 ),
    qRgb(  60,  24, 136 ),
    qRgb(  59,  25, 135 ),
    qRgb(  58,  26, 135 ),
    qRgb(  57,  27, 134 ),
    qRgb(  57,  28, 134 ),
    qRgb(  56,  29, 134 ),
    qRgb(  55,  30, 134 ),
    qRgb(  55,  31, 134 ),
    qRgb(  54,  32, 134 ),
    qRgb(  53,  33, 134 ),
    qRgb(  53,  34, 135 ),
    qRgb(  52,  35, 135 ),
    qRgb(  51,  37, 136 ),
    qRgb(  51,  38, 137 ),
    qRgb(  50,  39, 138 ),
    qRgb(  49,  40, 139 ),
    qRgb(  49,  41, 141 ),
    qRgb(  48,  43, 142 ),
    qRgb(  47,  44, 144 ),
    qRgb(  47,  45, 145 ),
    qRgb(  46,  46, 147 ),
    qRgb(  45,  48, 149 ),
    qRgb(  45,  49, 151 ),
    qRgb(  44,  50, 153 ),
    qRgb(  43,  51, 156 ),
    qRgb(  43,  52, 158 ),
    qRgb(  42,  53, 160 ),
    qRgb(  42,  54, 163 ),
    qRgb(  41,  55, 165 ),
    qRgb(  40,  56, 168 ),
    qRgb(  40,  57, 171 ),
    qRgb(  39,  58, 174 ),
    qRgb(  39,  59, 176 ),
    qRgb(  38,  60, 179 ),
    qRgb(  38,  61, 182 ),
    qRgb(  37,  62, 185 ),
    qRgb(  36,  62, 188 ),
    qRgb(  36,  63, 191 ),
    qRgb(  35,  64, 194 ),
    qRgb(  35,  64, 197 ),
    qRgb(  34,  65, 200 ),
    qRgb(  34,  65, 203 ),
    qRgb(  33,  65, 206 ),
    qRgb(  33,  66, 209 ),
    qRgb(  32,  66, 212 ),
    qRgb(  31,  66, 214 ),
    qRgb(  31,  66, 217 ),
    qRgb(  30,  66, 220 ),
    qRgb(  30,  67, 223 ),
    qRgb(  29,  66, 225 ),
    qRgb(  29,  66, 228 ),
    qRgb(  28,  66, 230 ),
    qRgb(  28,  66, 232 ),
    qRgb(  27,  66, 235 ),
    qRgb(  27,  65, 237 ),
    qRgb(  26,  65, 239 ),
    qRgb(  26,  65, 241 ),
    qRgb(  25,  64, 243 ),
    qRgb(  25,  64, 244 ),
    qRgb(  24,  63, 246 ),
    qRgb(  24,  62, 247 ),
    qRgb(  24,  62, 249 ),
    qRgb(  23,  61, 250 ),
    qRgb(  23,  60, 251 ),
    qRgb(  22,  59, 252 ),
    qRgb(  22,  58, 253 ),
    qRgb(  21,  57, 253 ),
    qRgb(  21,  56, 254 ),
    qRgb(  20,  55, 254 ),
    qRgb(  20,  54, 254 ),
    qRgb(  20,  53, 255 ),
    qRgb(  19,  52, 254 ),
    qRgb(  19,  51, 254 ),
    qRgb(  18,  50, 254 ),
    qRgb(  18,  49, 253 ),
    qRgb(  18,  48, 253 ),
    qRgb(  17,  46, 252 ),
    qRgb(  17,  45, 251 ),
    qRgb(  16,  44, 250 ),
    qRgb(  16,  43, 249 ),
    qRgb(  16,  42, 247 ),
    qRgb(  15,  40, 246 ),
    qRgb(  15,  39, 244 ),
    qRgb(  15,  38, 243 ),
    qRgb(  14,  37, 241 ),
    qRgb(  14,  35, 239 ),
    qRgb(  13,  34, 237 ),
    qRgb(  13,  33, 235 ),
    qRgb(  13,  32, 232 ),
    qRgb(  12,  31, 230 ),
    qRgb(  12,  30, 228 ),
    qRgb(  12,  29, 225 ),
    qRgb(  11,  28, 223 ),
    qRgb(  11,  27, 220 ),
    qRgb(  11,  26, 217 ),
    qRgb(  10,  25, 214 ),
    qRgb(  10,  24, 212 ),
    qRgb(  10,  23, 209 ),
    qRgb(  10,  22, 206 ),
    qRgb(   9,  21, 203 ),
    qRgb(   9,  21, 200 ),
    qRgb(   9,  20, 197 ),
    qRgb(   8,  19, 194 ),
    qRgb(   8,  19, 191 ),
    qRgb(   8,  18, 188 ),
    qRgb(   8,  18, 185 ),
    qRgb(   7,  18, 182 ),
    qRgb(   7,  17, 179 ),
    qRgb(   7,  17, 176 ),
    qRgb(   7,  17, 174 ),
    qRgb(   6,  17, 171 ),
    qRgb(   6,  17, 168 ),
    qRgb(   6,  17, 165 ),
    qRgb(   6,  17, 163 ),
    qRgb(   5,  17, 160 ),
    qRgb(   5,  17, 158 ),
    qRgb(   5,  17, 156 ),
    qRgb(   5,  17, 153 ),
    qRgb(   5,  18, 151 ),
    qRgb(   4,  18, 149 ),
    qRgb(   4,  18, 147 ),
    qRgb(   4,  19, 145 ),
    qRgb(   4,  19, 144 ),
    qRgb(   4,  20, 142 ),
    qRgb(   3,  21, 141 ),
    qRgb(   3,  21, 139 ),
    qRgb(   3,  22, 138 ),
    qRgb(   3,  23, 137 ),
    qRgb(   3,  24, 136 ),
    qRgb(   2,  25, 135 ),
    qRgb(   2,  26, 135 ),
    qRgb(   2,  27, 134 ),
    qRgb(   2,  28, 134 ),
    qRgb(   2,  29, 134 ),
    qRgb(   2,  30, 134 ),
    qRgb(   2,  31, 134 ),
    qRgb(   1,  32, 134 ),
    qRgb(   1,  33, 134 ),
    qRgb(   1,  34, 135 ),
    qRgb(   1,  35, 135 ),
    qRgb(   1,  37, 136 ),
    qRgb(   1,  38, 137 ),
    qRgb(   1,  39, 138 ),
    qRgb(   1,  40, 139 ),
    qRgb(   1,  41, 141 ),
    qRgb(   0,  43, 142 ),
    qRgb(   0,  44, 144 ),
    qRgb(   0,  45, 145 ),
    qRgb(   0,  46, 147 ),
    qRgb(   0,  48, 149 ),
    qRgb(   0,  49, 151 ),
    qRgb(   0,  50, 153 ),
    qRgb(   0,  51, 156 ),
    qRgb(   0,  52, 158 ),
    qRgb(   0,  53, 160 ),
    qRgb(   0,  54, 163 ),
    qRgb(   0,  55, 165 ),
    qRgb(   0,  56, 168 ),
    qRgb(   0,  57, 171 ),
    qRgb(   0,  58, 174 ),
    qRgb(   0,  59, 176 ),
    qRgb(   0,  60, 179 ),
    qRgb(   0,  61, 182 ),
    qRgb(   0,  62, 185 ),
    qRgb(   0,  62, 188 ),
    qRgb(   0,  63, 191 ),
    qRgb(   0,  64, 194 ),
    qRgb(   0,  64, 197 ),
    qRgb(   0,  65, 200 ),
    qRgb(   0,  65, 203 ),
    qRgb(   0,  65, 206 ),
    qRgb(   0,  66, 209 ),
    qRgb(   0,  66, 212 ),
    qRgb(   0,  66, 214 ),
    qRgb(   0,  66, 217 ),
    qRgb(   0,  66, 220 ),
    qRgb(   0,  67, 223 ),
    qRgb(   0,  66, 225 ),
    qRgb(   0,  66, 228 ),
    qRgb(   0,  66, 230 ),
    qRgb(   0,  66, 232 ),
    qRgb(   0,  66, 235 ),
    qRgb(   0,  65, 237 ),
    qRgb(   0,  65, 239 ),
    qRgb(   0,  65, 241 ),
    qRgb(   0,  64, 243 ),
    qRgb(   0,  64, 244 ),
    qRgb(   0,  63, 246 ),
    qRgb(   1,  62, 247 ),
    qRgb(   1,  62, 249 ),
    qRgb(   1,  61, 250 ),
    qRgb(   1,  60, 251 ),
    qRgb(   1,  59, 252 ),
    qRgb(   1,  58, 253 ),
    qRgb(   1,  57, 253 ),
    qRgb(   1,  56, 254 ),
    qRgb(   1,  55, 254 ),
    qRgb(   2,  54, 254 ),
    qRgb(   2,  53, 255 ),
    qRgb(   2,  52, 254 ),
    qRgb(   2,  51, 254 ),
    qRgb(   2,  50, 254 ),
    qRgb(   2,  49, 253 ),
    qRgb(   2,  48, 253 ),
    qRgb(   3,  46, 252 ),
    qRgb(   3,  45, 251 ),
    qRgb(   3,  44, 250 ),
    qRgb(   3,  43, 249 ),
    qRgb(   3,  42, 247 ),
    qRgb(   4,  40, 246 ),
    qRgb(   4,  39, 244 ),
    qRgb(   4,  38, 243 ),
    qRgb(   4,  37, 241 ),
    qRgb(   4,  35, 239 ),
    qRgb(   5,  34, 237 ),
    qRgb(   5,  33, 235 ),
    qRgb(   5,  32, 232 ),
    qRgb(   5,  31, 230 ),
    qRgb(   5,  30, 228 ),
    qRgb(   6,  29, 225 ),
    qRgb(   6,  28, 223 ),
    qRgb(   6,  27, 220 ),
    qRgb(   6,  26, 217 ),
    qRgb(   7,  25, 214 ),
    qRgb(   7,  24, 212 ),
    qRgb(   7,  23, 209 ),
    qRgb(   7,  22, 206 ),
    qRgb(   8,  21, 203 ),
    qRgb(   8,  21, 200 ),
    qRgb(   8,  20, 197 ),
    qRgb(   8,  19, 194 ),
    qRgb(   9,  19, 191 ),
    qRgb(   9,  18, 188 ),
    qRgb(   9,  18, 185 ),
    qRgb(  10,  18, 182 ),
    qRgb(  10,  17, 179 ),
    qRgb(  10,  17, 176 ),
    qRgb(  10,  17, 174 ),
    qRgb(  11,  17, 171 ),
    qRgb(  11,  17, 168 ),
    qRgb(  11,  17, 165 ),
    qRgb(  12,  17, 163 ),
    qRgb(  12,  17, 160 ),
    qRgb(  12,  17, 158 ),
    qRgb(  13,  17, 156 ),
    qRgb(  13,  17, 153 ),
    qRgb(  13,  18, 151 ),
    qRgb(  14,  18, 149 ),
    qRgb(  14,  18, 147 ),
    qRgb(  15,  19, 145 ),
    qRgb(  15,  19, 144 ),
    qRgb(  15,  20, 142 ),
    qRgb(  16,  21, 141 ),
    qRgb(  16,  21, 139 ),
    qRgb(  16,  22, 138 ),
    qRgb(  17,  23, 137 ),
    qRgb(  17,  24, 136 ),
    qRgb(  18,  25, 135 ),
    qRgb(  18,  26, 135 ),
    qRgb(  18,  27, 134 ),
    qRgb(  19,  28, 134 ),
    qRgb(  19,  29, 134 ),
    qRgb(  20,  30, 134 ),
    qRgb(  20,  31, 134 ),
    qRgb(  20,  32, 134 ),
    qRgb(  21,  33, 134 ),
    qRgb(  21,  34, 135 ),
    qRgb(  22,  35, 135 ),
    qRgb(  22,  37, 136 ),
    qRgb(  23,  38, 137 ),
    qRgb(  23,  39, 138 ),
    qRgb(  24,  40, 139 ),
    qRgb(  24,  42, 141 ),
    qRgb(  24,  43, 142 ),
    qRgb(  25,  44, 144 ),
    qRgb(  25,  45, 145 ),
    qRgb(  26,  46, 147 ),
    qRgb(  26,  48, 149 ),
    qRgb(  27,  49, 151 ),
    qRgb(  27,  50, 153 ),
    qRgb(  28,  51, 156 ),
    qRgb(  28,  52, 158 ),
    qRgb(  29,  53, 160 ),
    qRgb(  29,  54, 163 ),
    qRgb(  30,  55, 165 ),
    qRgb(  30,  56, 168 ),
    qRgb(  31,  57, 171 ),
    qRgb(  31,  58, 174 ),
    qRgb(  32,  59, 176 ),
    qRgb(  33,  60, 179 ),
    qRgb(  33,  61, 182 ),
    qRgb(  34,  62, 185 ),
    qRgb(  34,  62, 188 ),
    qRgb(  35,  63, 191 ),
    qRgb(  35,  64, 194 ),
    qRgb(  36,  64, 197 ),
    qRgb(  36,  65, 200 ),
    qRgb(  37,  65, 203 ),
    qRgb(  38,  65, 206 ),
    qRgb(  38,  66, 209 ),
    qRgb(  39,  66, 212 ),
    qRgb(  39,  66, 214 ),
    qRgb(  40,  66, 217 ),
    qRgb(  40,  66, 220 ),
    qRgb(  41,  67, 223 ),
    qRgb(  42,  66, 225 ),
    qRgb(  42,  66, 228 ),
    qRgb(  43,  66, 230 ),
    qRgb(  43,  66, 232 ),
    qRgb(  44,  66, 235 ),
    qRgb(  45,  65, 237 ),
    qRgb(  45,  65, 239 ),
    qRgb(  46,  65, 241 ),
    qRgb(  47,  64, 243 ),
    qRgb(  47,  64, 244 ),
    qRgb(  48,  63, 246 ),
    qRgb(  49,  62, 247 ),
    qRgb(  49,  62, 249 ),
    qRgb(  50,  61, 250 ),
    qRgb(  51,  60, 251 ),
    qRgb(  51,  59, 252 ),
    qRgb(  52,  58, 253 ),
    qRgb(  53,  57, 253 ),
    qRgb(  53,  56, 254 ),
    qRgb(  54,  55, 254 ),
    qRgb(  55,  54, 254 ),
    qRgb(  55,  53, 255 ),
    qRgb(  56,  52, 254 ),
    qRgb(  57,  51, 254 ),
    qRgb(  57,  50, 254 ),
    qRgb(  58,  49, 253 ),
    qRgb(  59,  48, 253 ),
    qRgb(  60,  46, 252 ),
    qRgb(  60,  45, 251 ),
    qRgb(  61,  44, 250 ),
    qRgb(  62,  43, 249 ),
    qRgb(  63,  42, 247 ),
    qRgb(  63,  40, 246 ),
    qRgb(  64,  39, 244 ),
    qRgb(  65,  38, 243 ),
    qRgb(  66,  37, 241 ),
    qRgb(  66,  35, 239 ),
    qRgb(  67,  34, 237 ),
    qRgb(  68,  33, 235 ),
    qRgb(  69,  32, 232 ),
    qRgb(  69,  31, 230 ),
    qRgb(  70,  30, 228 ),
    qRgb(  71,  29, 225 ),
    qRgb(  72,  28, 223 ),
    qRgb(  73,  27, 220 ),
    qRgb(  73,  26, 217 ),
    qRgb(  74,  25, 214 ),
    qRgb(  75,  24, 212 ),
    qRgb(  76,  23, 209 ),
    qRgb(  77,  22, 206 ),
    qRgb(  77,  21, 203 ),
    qRgb(  78,  21, 200 ),
    qRgb(  79,  20, 197 ),
    qRgb(  80,  19, 194 ),
    qRgb(  81,  19, 191 ),
    qRgb(  82,  18, 188 ),
    qRgb(  82,  18, 185 ),
    qRgb(  83,  18, 182 ),
    qRgb(  84,  17, 179 ),
    qRgb(  85,  17, 176 ),
    qRgb(  86,  17, 174 ),
    qRgb(  87,  17, 171 ),
    qRgb(  88,  17, 168 ),
    qRgb(  89,  17, 165 ),
    qRgb(  89,  17, 163 ),
    qRgb(  90,  17, 160 ),
    qRgb(  91,  17, 158 ),
    qRgb(  92,  17, 156 ),
    qRgb(  93,  17, 153 ),
    qRgb(  94,  18, 151 ),
    qRgb(  95,  18, 149 ),
    qRgb(  96,  18, 147 ),
    qRgb(  97,  19, 145 ),
    qRgb(  98,  19, 144 ),
    qRgb(  98,  20, 142 ),
    qRgb(  99,  21, 141 ),
    qRgb( 100,  21, 139 ),
    qRgb( 101,  22, 138 ),
    qRgb( 102,  23, 137 ),
    qRgb( 103,  24, 136 ),
    qRgb( 104,  25, 135 ),
    qRgb( 105,  26, 135 ),
    qRgb( 106,  27, 134 ),
    qRgb( 107,  28, 134 ),
    qRgb( 108,  29, 134 ),
    qRgb( 109,  30, 134 ),
    qRgb( 110,  31, 134 ),
    qRgb( 111,  32, 134 ),
    qRgb( 112,  33, 134 ),
    qRgb( 113,  34, 135 ),
    qRgb( 114,  35, 135 ),
    qRgb( 115,  37, 136 ),
    qRgb( 116,  38, 137 ),
    qRgb( 117,  39, 138 ),
    qRgb( 118,  40, 139 ),
    qRgb( 119,  41, 141 ),
    qRgb( 120,  43, 142 ),
    qRgb( 121,  44, 144 ),
    qRgb( 122,  45, 145 ),
    qRgb( 123,  46, 147 ),
    qRgb( 124,  48, 149 ),
    qRgb( 125,  49, 151 ),
    qRgb( 126,  50, 153 ),
    qRgb( 127,  51, 156 ),
    qRgb( 128,  52, 158 ),
    qRgb( 129,  53, 160 ),
    qRgb( 130,  54, 163 ),
    qRgb( 132,  55, 165 ),
    qRgb( 133,  56, 168 ),
    qRgb( 134,  57, 171 ),
    qRgb( 135,  58, 174 ),
    qRgb( 136,  59, 176 ),
    qRgb( 137,  60, 179 ),
    qRgb( 138,  61, 182 ),
    qRgb( 139,  62, 185 ),
    qRgb( 140,  62, 188 ),
    qRgb( 141,  63, 191 )
};

QRgb cm_default4[] =
{
    qRgb( 185,  77, 254 ),
    qRgb( 182,  78, 248 ),
    qRgb( 179,  79, 242 ),
    qRgb( 176,  80, 235 ),
    qRgb( 173,  81, 229 ),
    qRgb( 169,  82, 223 ),
    qRgb( 166,  83, 217 ),
    qRgb( 163,  84, 211 ),
    qRgb( 160,  85, 205 ),
    qRgb( 157,  86, 199 ),
    qRgb( 154,  87, 194 ),
    qRgb( 151,  88, 188 ),
    qRgb( 148,  89, 183 ),
    qRgb( 145,  90, 178 ),
    qRgb( 142,  91, 173 ),
    qRgb( 139,  92, 168 ),
    qRgb( 136,  93, 164 ),
    qRgb( 133,  94, 160 ),
    qRgb( 130,  95, 155 ),
    qRgb( 128,  96, 152 ),
    qRgb( 125,  97, 148 ),
    qRgb( 122,  98, 145 ),
    qRgb( 119,  99, 142 ),
    qRgb( 117, 100, 139 ),
    qRgb( 114, 101, 136 ),
    qRgb( 112, 102, 134 ),
    qRgb( 109, 103, 132 ),
    qRgb( 107, 104, 130 ),
    qRgb( 104, 105, 129 ),
    qRgb( 102, 106, 128 ),
    qRgb(  99, 107, 127 ),
    qRgb(  97, 108, 127 ),
    qRgb(  95, 109, 126 ),
    qRgb(  93, 110, 127 ),
    qRgb(  91, 111, 127 ),
    qRgb(  88, 112, 128 ),
    qRgb(  86, 113, 129 ),
    qRgb(  84, 114, 130 ),
    qRgb(  83, 115, 132 ),
    qRgb(  81, 116, 134 ),
    qRgb(  79, 117, 136 ),
    qRgb(  77, 118, 139 ),
    qRgb(  76, 119, 142 ),
    qRgb(  74, 120, 145 ),
    qRgb(  73, 121, 148 ),
    qRgb(  71, 122, 152 ),
    qRgb(  70, 123, 155 ),
    qRgb(  68, 124, 160 ),
    qRgb(  67, 125, 164 ),
    qRgb(  66, 126, 168 ),
    qRgb(  65, 127, 173 ),
    qRgb(  64, 128, 178 ),
    qRgb(  63, 129, 183 ),
    qRgb(  62, 130, 188 ),
    qRgb(  61, 131, 194 ),
    qRgb(  61, 132, 199 ),
    qRgb(  60, 133, 205 ),
    qRgb(  59, 134, 211 ),
    qRgb(  59, 135, 217 ),
    qRgb(  58, 136, 223 ),
    qRgb(  58, 137, 229 ),
    qRgb(  58, 138, 235 ),
    qRgb(  58, 139, 242 ),
    qRgb(  58, 140, 248 ),
    qRgb(  57, 141, 254 ),
    qRgb(  58, 142, 251 ),
    qRgb(  58, 143, 245 ),
    qRgb(  58, 144, 238 ),
    qRgb(  58, 145, 232 ),
    qRgb(  58, 146, 226 ),
    qRgb(  59, 147, 220 ),
    qRgb(  59, 148, 214 ),
    qRgb(  60, 149, 208 ),
    qRgb(  61, 150, 202 ),
    qRgb(  61, 151, 197 ),
    qRgb(  62, 152, 191 ),
    qRgb(  63, 153, 186 ),
    qRgb(  64, 154, 181 ),
    qRgb(  65, 155, 176 ),
    qRgb(  66, 156, 171 ),
    qRgb(  67, 157, 167 ),
    qRgb(  68, 158, 163 ),
    qRgb(  70, 159, 158 ),
    qRgb(  71, 160, 155 ),
    qRgb(  73, 161, 151 ),
    qRgb(  74, 162, 148 ),
    qRgb(  76, 163, 145 ),
    qRgb(  77, 164, 142 ),
    qRgb(  79, 165, 139 ),
    qRgb(  81, 166, 137 ),
    qRgb(  83, 167, 135 ),
    qRgb(  84, 168, 133 ),
    qRgb(  86, 169, 132 ),
    qRgb(  88, 170, 131 ),
    qRgb(  91, 171, 130 ),
    qRgb(  93, 172, 130 ),
    qRgb(  95, 173, 130 ),
    qRgb(  97, 174, 130 ),
    qRgb(  99, 175, 130 ),
    qRgb( 102, 176, 131 ),
    qRgb( 104, 177, 132 ),
    qRgb( 107, 178, 133 ),
    qRgb( 109, 179, 135 ),
    qRgb( 112, 180, 137 ),
    qRgb( 114, 181, 139 ),
    qRgb( 117, 182, 142 ),
    qRgb( 119, 183, 145 ),
    qRgb( 122, 184, 148 ),
    qRgb( 125, 185, 151 ),
    qRgb( 128, 186, 155 ),
    qRgb( 130, 187, 158 ),
    qRgb( 133, 188, 163 ),
    qRgb( 136, 189, 167 ),
    qRgb( 139, 190, 171 ),
    qRgb( 142, 191, 176 ),
    qRgb( 145, 192, 181 ),
    qRgb( 148, 193, 186 ),
    qRgb( 151, 194, 191 ),
    qRgb( 154, 195, 197 ),
    qRgb( 157, 196, 202 ),
    qRgb( 160, 197, 208 ),
    qRgb( 163, 198, 214 ),
    qRgb( 166, 199, 220 ),
    qRgb( 169, 200, 226 ),
    qRgb( 173, 201, 232 ),
    qRgb( 176, 202, 238 ),
    qRgb( 179, 203, 245 ),
    qRgb( 182, 204, 251 ),
    qRgb( 185, 205, 254 ),
    qRgb( 188, 206, 248 ),
    qRgb( 191, 207, 242 ),
    qRgb( 194, 208, 235 ),
    qRgb( 197, 209, 229 ),
    qRgb( 201, 210, 223 ),
    qRgb( 204, 211, 217 ),
    qRgb( 207, 212, 211 ),
    qRgb( 210, 213, 205 ),
    qRgb( 213, 214, 199 ),
    qRgb( 216, 215, 194 ),
    qRgb( 219, 216, 188 ),
    qRgb( 222, 217, 183 ),
    qRgb( 225, 218, 178 ),
    qRgb( 228, 219, 173 ),
    qRgb( 231, 220, 168 ),
    qRgb( 234, 221, 164 ),
    qRgb( 237, 222, 160 ),
    qRgb( 240, 223, 155 ),
    qRgb( 242, 224, 152 ),
    qRgb( 245, 225, 148 ),
    qRgb( 248, 226, 145 ),
    qRgb( 251, 227, 142 ),
    qRgb( 253, 228, 139 ),
    qRgb( 255, 229, 136 ),
    qRgb( 253, 230, 134 ),
    qRgb( 250, 231, 132 ),
    qRgb( 248, 232, 130 ),
    qRgb( 245, 233, 129 ),
    qRgb( 243, 234, 128 ),
    qRgb( 240, 235, 127 ),
    qRgb( 238, 236, 127 ),
    qRgb( 236, 237, 126 ),
    qRgb( 234, 238, 127 ),
    qRgb( 232, 239, 127 ),
    qRgb( 229, 240, 128 ),
    qRgb( 227, 241, 129 ),
    qRgb( 225, 242, 130 ),
    qRgb( 224, 243, 132 ),
    qRgb( 222, 244, 134 ),
    qRgb( 220, 245, 136 ),
    qRgb( 218, 246, 139 ),
    qRgb( 217, 247, 142 ),
    qRgb( 215, 248, 145 ),
    qRgb( 214, 249, 148 ),
    qRgb( 212, 250, 152 ),
    qRgb( 211, 251, 155 ),
    qRgb( 209, 252, 160 ),
    qRgb( 208, 253, 164 ),
    qRgb( 207, 254, 168 ),
    qRgb( 206, 255, 173 ),
    qRgb( 205, 254, 178 ),
    qRgb( 204, 253, 183 ),
    qRgb( 203, 252, 188 ),
    qRgb( 202, 251, 194 ),
    qRgb( 202, 250, 199 ),
    qRgb( 201, 249, 205 ),
    qRgb( 200, 248, 211 ),
    qRgb( 200, 247, 217 ),
    qRgb( 199, 246, 223 ),
    qRgb( 199, 245, 229 ),
    qRgb( 199, 244, 235 ),
    qRgb( 199, 243, 242 ),
    qRgb( 199, 242, 248 ),
    qRgb( 199, 241, 254 ),
    qRgb( 199, 240, 251 ),
    qRgb( 199, 239, 245 ),
    qRgb( 199, 238, 238 ),
    qRgb( 199, 237, 232 ),
    qRgb( 199, 236, 226 ),
    qRgb( 200, 235, 220 ),
    qRgb( 200, 234, 214 ),
    qRgb( 201, 233, 208 ),
    qRgb( 202, 232, 202 ),
    qRgb( 202, 231, 197 ),
    qRgb( 203, 230, 191 ),
    qRgb( 204, 229, 186 ),
    qRgb( 205, 228, 181 ),
    qRgb( 206, 227, 176 ),
    qRgb( 207, 226, 171 ),
    qRgb( 208, 225, 167 ),
    qRgb( 209, 224, 163 ),
    qRgb( 211, 223, 158 ),
    qRgb( 212, 222, 155 ),
    qRgb( 214, 221, 151 ),
    qRgb( 215, 220, 148 ),
    qRgb( 217, 219, 145 ),
    qRgb( 218, 218, 142 ),
    qRgb( 220, 217, 139 ),
    qRgb( 222, 216, 137 ),
    qRgb( 224, 215, 135 ),
    qRgb( 225, 214, 133 ),
    qRgb( 227, 213, 132 ),
    qRgb( 229, 212, 131 ),
    qRgb( 232, 211, 130 ),
    qRgb( 234, 210, 130 ),
    qRgb( 236, 209, 130 ),
    qRgb( 238, 208, 130 ),
    qRgb( 240, 207, 130 ),
    qRgb( 243, 206, 131 ),
    qRgb( 245, 205, 132 ),
    qRgb( 248, 204, 133 ),
    qRgb( 250, 203, 135 ),
    qRgb( 253, 202, 137 ),
    qRgb( 255, 201, 139 ),
    qRgb( 253, 200, 142 ),
    qRgb( 251, 199, 145 ),
    qRgb( 248, 198, 148 ),
    qRgb( 245, 197, 151 ),
    qRgb( 242, 196, 155 ),
    qRgb( 240, 195, 158 ),
    qRgb( 237, 194, 163 ),
    qRgb( 234, 193, 167 ),
    qRgb( 231, 192, 171 ),
    qRgb( 228, 191, 176 ),
    qRgb( 225, 190, 181 ),
    qRgb( 222, 189, 186 ),
    qRgb( 219, 188, 191 ),
    qRgb( 216, 187, 197 ),
    qRgb( 213, 186, 202 ),
    qRgb( 210, 185, 208 ),
    qRgb( 207, 184, 214 ),
    qRgb( 204, 183, 220 ),
    qRgb( 201, 182, 226 ),
    qRgb( 197, 181, 232 ),
    qRgb( 194, 180, 238 ),
    qRgb( 191, 179, 245 ),
    qRgb( 188, 178, 251 ),
    qRgb( 185, 177, 254 ),
    qRgb( 182, 176, 248 ),
    qRgb( 179, 175, 242 ),
    qRgb( 176, 174, 235 ),
    qRgb( 173, 173, 229 ),
    qRgb( 169, 172, 223 ),
    qRgb( 166, 171, 217 ),
    qRgb( 163, 170, 211 ),
    qRgb( 160, 169, 205 ),
    qRgb( 157, 168, 199 ),
    qRgb( 154, 167, 194 ),
    qRgb( 151, 166, 188 ),
    qRgb( 148, 165, 183 ),
    qRgb( 145, 164, 178 ),
    qRgb( 142, 163, 173 ),
    qRgb( 139, 162, 168 ),
    qRgb( 136, 161, 164 ),
    qRgb( 133, 160, 160 ),
    qRgb( 130, 159, 155 ),
    qRgb( 128, 158, 152 ),
    qRgb( 125, 157, 148 ),
    qRgb( 122, 156, 145 ),
    qRgb( 119, 155, 142 ),
    qRgb( 117, 154, 139 ),
    qRgb( 114, 153, 136 ),
    qRgb( 112, 152, 134 ),
    qRgb( 109, 151, 132 ),
    qRgb( 107, 150, 130 ),
    qRgb( 104, 149, 129 ),
    qRgb( 102, 148, 128 ),
    qRgb(  99, 147, 127 ),
    qRgb(  97, 146, 127 ),
    qRgb(  95, 145, 126 ),
    qRgb(  93, 144, 127 ),
    qRgb(  91, 143, 127 ),
    qRgb(  88, 142, 128 ),
    qRgb(  86, 141, 129 ),
    qRgb(  84, 140, 130 ),
    qRgb(  83, 139, 132 ),
    qRgb(  81, 138, 134 ),
    qRgb(  79, 137, 136 ),
    qRgb(  77, 136, 139 ),
    qRgb(  76, 135, 142 ),
    qRgb(  74, 134, 145 ),
    qRgb(  73, 133, 148 ),
    qRgb(  71, 132, 152 ),
    qRgb(  70, 131, 155 ),
    qRgb(  68, 130, 160 ),
    qRgb(  67, 129, 164 ),
    qRgb(  66, 128, 168 ),
    qRgb(  65, 127, 173 ),
    qRgb(  64, 126, 178 ),
    qRgb(  63, 125, 183 ),
    qRgb(  62, 124, 188 ),
    qRgb(  61, 123, 194 ),
    qRgb(  61, 122, 199 ),
    qRgb(  60, 121, 205 ),
    qRgb(  59, 120, 211 ),
    qRgb(  59, 119, 217 ),
    qRgb(  58, 118, 223 ),
    qRgb(  58, 117, 229 ),
    qRgb(  58, 116, 235 ),
    qRgb(  58, 115, 242 ),
    qRgb(  58, 114, 248 ),
    qRgb(  57, 113, 254 ),
    qRgb(  58, 112, 251 ),
    qRgb(  58, 111, 245 ),
    qRgb(  58, 110, 238 ),
    qRgb(  58, 109, 232 ),
    qRgb(  58, 108, 226 ),
    qRgb(  59, 107, 220 ),
    qRgb(  59, 106, 214 ),
    qRgb(  60, 105, 208 ),
    qRgb(  61, 104, 202 ),
    qRgb(  61, 103, 197 ),
    qRgb(  62, 102, 191 ),
    qRgb(  63, 101, 186 ),
    qRgb(  64, 100, 181 ),
    qRgb(  65,  99, 176 ),
    qRgb(  66,  98, 171 ),
    qRgb(  67,  97, 167 ),
    qRgb(  68,  96, 163 ),
    qRgb(  70,  95, 158 ),
    qRgb(  71,  94, 155 ),
    qRgb(  73,  93, 151 ),
    qRgb(  74,  92, 148 ),
    qRgb(  76,  91, 145 ),
    qRgb(  77,  90, 142 ),
    qRgb(  79,  89, 139 ),
    qRgb(  81,  88, 137 ),
    qRgb(  83,  87, 135 ),
    qRgb(  84,  86, 133 ),
    qRgb(  86,  85, 132 ),
    qRgb(  88,  84, 131 ),
    qRgb(  91,  83, 130 ),
    qRgb(  93,  82, 130 ),
    qRgb(  95,  81, 130 ),
    qRgb(  97,  80, 130 ),
    qRgb(  99,  79, 130 ),
    qRgb( 102,  78, 131 ),
    qRgb( 104,  77, 132 ),
    qRgb( 107,  76, 133 ),
    qRgb( 109,  75, 135 ),
    qRgb( 112,  74, 137 ),
    qRgb( 114,  73, 139 ),
    qRgb( 117,  72, 142 ),
    qRgb( 119,  71, 145 ),
    qRgb( 122,  70, 148 ),
    qRgb( 125,  69, 151 ),
    qRgb( 128,  68, 155 ),
    qRgb( 130,  67, 158 ),
    qRgb( 133,  66, 163 ),
    qRgb( 136,  65, 167 ),
    qRgb( 139,  64, 171 ),
    qRgb( 142,  63, 176 ),
    qRgb( 145,  62, 181 ),
    qRgb( 148,  61, 186 ),
    qRgb( 151,  60, 191 ),
    qRgb( 154,  59, 197 ),
    qRgb( 157,  58, 202 ),
    qRgb( 160,  57, 208 ),
    qRgb( 163,  56, 214 ),
    qRgb( 166,  55, 220 ),
    qRgb( 169,  54, 226 ),
    qRgb( 173,  53, 232 ),
    qRgb( 176,  52, 238 ),
    qRgb( 179,  51, 245 ),
    qRgb( 182,  50, 251 ),
    qRgb( 185,  49, 254 ),
    qRgb( 188,  48, 248 ),
    qRgb( 191,  47, 242 ),
    qRgb( 194,  46, 235 ),
    qRgb( 197,  45, 229 ),
    qRgb( 201,  44, 223 ),
    qRgb( 204,  43, 217 ),
    qRgb( 207,  42, 211 ),
    qRgb( 210,  41, 205 ),
    qRgb( 213,  40, 199 ),
    qRgb( 216,  39, 194 ),
    qRgb( 219,  38, 188 ),
    qRgb( 222,  37, 183 ),
    qRgb( 225,  36, 178 ),
    qRgb( 228,  35, 173 ),
    qRgb( 231,  34, 168 ),
    qRgb( 234,  33, 164 ),
    qRgb( 237,  32, 160 ),
    qRgb( 240,  31, 155 ),
    qRgb( 242,  30, 152 ),
    qRgb( 245,  29, 148 ),
    qRgb( 248,  28, 145 ),
    qRgb( 251,  27, 142 ),
    qRgb( 253,  26, 139 ),
    qRgb( 255,  25, 136 ),
    qRgb( 253,  24, 134 ),
    qRgb( 250,  23, 132 ),
    qRgb( 248,  22, 130 ),
    qRgb( 245,  21, 129 ),
    qRgb( 243,  20, 128 ),
    qRgb( 240,  19, 127 ),
    qRgb( 238,  18, 127 ),
    qRgb( 236,  17, 126 ),
    qRgb( 234,  16, 127 ),
    qRgb( 232,  15, 127 ),
    qRgb( 229,  14, 128 ),
    qRgb( 227,  13, 129 ),
    qRgb( 225,  12, 130 ),
    qRgb( 224,  11, 132 ),
    qRgb( 222,  10, 134 ),
    qRgb( 220,   9, 136 ),
    qRgb( 218,   8, 139 ),
    qRgb( 217,   7, 142 ),
    qRgb( 215,   6, 145 ),
    qRgb( 214,   5, 148 ),
    qRgb( 212,   4, 152 ),
    qRgb( 211,   3, 155 ),
    qRgb( 209,   2, 160 ),
    qRgb( 208,   1, 164 ),
    qRgb( 207,   0, 168 ),
    qRgb( 206,   0, 173 ),
    qRgb( 205,   0, 178 ),
    qRgb( 204,   1, 183 ),
    qRgb( 203,   2, 188 ),
    qRgb( 202,   3, 194 ),
    qRgb( 202,   4, 199 ),
    qRgb( 201,   5, 205 ),
    qRgb( 200,   6, 211 ),
    qRgb( 200,   7, 217 ),
    qRgb( 199,   8, 223 ),
    qRgb( 199,   9, 229 ),
    qRgb( 199,  10, 235 ),
    qRgb( 199,  11, 242 ),
    qRgb( 199,  12, 248 ),
    qRgb( 199,  13, 254 ),
    qRgb( 199,  14, 251 ),
    qRgb( 199,  15, 245 ),
    qRgb( 199,  16, 238 ),
    qRgb( 199,  17, 232 ),
    qRgb( 199,  18, 226 ),
    qRgb( 200,  19, 220 ),
    qRgb( 200,  20, 214 ),
    qRgb( 201,  21, 208 ),
    qRgb( 202,  22, 202 ),
    qRgb( 202,  23, 197 ),
    qRgb( 203,  24, 191 ),
    qRgb( 204,  25, 186 ),
    qRgb( 205,  26, 181 ),
    qRgb( 206,  27, 176 ),
    qRgb( 207,  28, 171 ),
    qRgb( 208,  29, 167 ),
    qRgb( 209,  30, 163 ),
    qRgb( 211,  31, 158 ),
    qRgb( 212,  32, 155 ),
    qRgb( 214,  33, 151 ),
    qRgb( 215,  34, 148 ),
    qRgb( 217,  35, 145 ),
    qRgb( 218,  36, 142 ),
    qRgb( 220,  37, 139 ),
    qRgb( 222,  38, 137 ),
    qRgb( 224,  39, 135 ),
    qRgb( 225,  40, 133 ),
    qRgb( 227,  41, 132 ),
    qRgb( 229,  42, 131 ),
    qRgb( 232,  43, 130 ),
    qRgb( 234,  44, 130 ),
    qRgb( 236,  45, 130 ),
    qRgb( 238,  46, 130 ),
    qRgb( 240,  47, 130 ),
    qRgb( 243,  48, 131 ),
    qRgb( 245,  49, 132 ),
    qRgb( 248,  50, 133 ),
    qRgb( 250,  51, 135 ),
    qRgb( 253,  52, 137 ),
    qRgb( 255,  53, 139 ),
    qRgb( 253,  54, 142 ),
    qRgb( 251,  55, 145 ),
    qRgb( 248,  56, 148 ),
    qRgb( 245,  57, 151 ),
    qRgb( 242,  58, 155 ),
    qRgb( 240,  59, 158 ),
    qRgb( 237,  60, 163 ),
    qRgb( 234,  61, 167 ),
    qRgb( 231,  62, 171 ),
    qRgb( 228,  63, 176 ),
    qRgb( 225,  64, 181 ),
    qRgb( 222,  65, 186 ),
    qRgb( 219,  66, 191 ),
    qRgb( 216,  67, 197 ),
    qRgb( 213,  68, 202 ),
    qRgb( 210,  69, 208 ),
    qRgb( 207,  70, 214 ),
    qRgb( 204,  71, 220 ),
    qRgb( 201,  72, 226 ),
    qRgb( 197,  73, 232 ),
    qRgb( 194,  74, 238 ),
    qRgb( 191,  75, 245 ),
    qRgb( 188,  76, 251 )
};

boost::shared_ptr<ColourMaps> ColourMaps::create()
{
    if (!s_instance)
    {
        s_instance = boost::shared_ptr<ColourMaps>(new ColourMaps());
    }
    return s_instance;
}

boost::shared_ptr<ColourMaps> ColourMaps::instance()
{
    return s_instance;
}


ColourMaps::ColourMaps()
:
m_map_name()
{
    AddDefaultMap("Default");
    AddDefaultMap("Default 1");
    AddDefaultMap("Default 2");
    AddDefaultMap("Default 3");
    AddDefaultMap("Default 4");
}

void ColourMaps::rename(const QString& old_name, const QString& new_name)
{
    if (old_name != new_name)
    {
        auto map = m_map[old_name];
        m_map[new_name] = map;
        m_map.erase(old_name);
    }
}

void ColourMaps::updateMaps(const QString& old_name, const QString& new_name, ColourMap& colours, bool emit_signal)
{
    if (old_name != new_name)
    {
        m_map.erase(old_name);
    }
    m_map[new_name] = colours;
    if (emit_signal) emit changed(new_name);
}

void ColourMaps::RemoveMap(const QString& map_name)
{
    m_map.erase(map_name); // disregard return value
    emit changed(map_name);
}

unsigned int ColourMaps::size()
{
    return m_map.size();
}

QStrings &ColourMaps::getNames()
{
    m_names.clear();
    m_names.push_back("Default");
    m_names.push_back("Default 1");
    m_names.push_back("Default 2");
    m_names.push_back("Default 3");
    m_names.push_back("Default 4");
    for (auto it = m_map.begin(); it != m_map.end(); it++)
    {
        if (!isDefault(it->first))
        {
            m_names.push_back(it->first);
        }
    }
    return m_names;
}

ColourMap &ColourMaps::getColourMap(const QString& map_name)
{
    if (map_name.isEmpty())
    {
        m_current_map = m_map["Default"];
    }
    else
    {
        m_current_map = ((m_map.count(map_name) == 0) ? m_map["Default"] : m_map[map_name]);
    }
    return m_current_map;
}

void ColourMaps::AddDefaultMap(const QString& name)
{
    static int map = 0;
    int size = sizeof(cm_default0)/sizeof(QRgb);
    QRgb *colours = cm_default0;
    switch (map)
    {
    default:
    case 0:
        size = sizeof(cm_default0)/sizeof(QRgb);
        colours = cm_default0;
        break;
    case 1:
        size = sizeof(cm_default1)/sizeof(QRgb);
        colours = cm_default1;
        break;
    case 2:
        size = sizeof(cm_default2)/sizeof(QRgb);
        colours = cm_default2;
        break;
    case 3:
        size = sizeof(cm_default3)/sizeof(QRgb);
        colours = cm_default3;
        break;
    case 4:
        size = sizeof(cm_default4)/sizeof(QRgb);
        colours = cm_default4;
        break;
    }
    VectorColour vcolours;
    for (int i=0; i<size; i++)
    {
        vcolours.push_back(colours[i]);
    }
    ColourMap colour_map(vcolours);
    m_map[name] = colour_map;
    map++;
}

bool ColourMaps::nameExists(const QString& name)
{
     return (m_map.count(name) != 0);
}

bool ColourMaps::isDefault(const QString& name)
{
    return ((name == "Default") ||
            (name == "Default 1") ||
            (name == "Default 2") ||
            (name == "Default 3") ||
            (name == "Default 4"));
}

QString ColourMaps::setColours(const QString& name, ColourMap& colours, bool emit_signal)
{
    QString found_name;
    if (!mapExists(colours, found_name))
    {
        bool temp_name = name.isEmpty();
        if (!temp_name)
        {
            temp_name = (m_map.count(name) != 0);
        }
        found_name = (temp_name ? assignTemporaryName(name) : name);
        m_map[found_name] = colours;
        if (emit_signal)
        {
            changed(found_name);
        }
    }
    else if (!name.isEmpty())
    {
        bool temporary_found_name = (found_name.indexOf("~") != -1);
        bool temporary_name = (name.indexOf("~") != -1);
        if (temporary_found_name && !temporary_name)
        {
            updateMaps(found_name, name, colours, emit_signal);
            found_name = name;
            if (emit_signal)
            {
                emit changed(name);
            }
        }
    }
    return found_name;
}

QString ColourMaps::assignTemporaryName(const QString &base)
{
    int i = 0;
    QString name = (base.isEmpty() ? TEMP_MAP : base + "~") + QString::number(i);
    while (m_map.count(name) != 0)
    {
        i++;
        name = (base.isEmpty() ? TEMP_MAP : base + "~") + QString::number(i);
    }
    return name;
}

bool ColourMaps::mapExists(ColourMap &colours, QString& found_name)
{
    bool match = false;
    found_name = "";
    auto it = m_map.begin();
    while ((it != m_map.end()) && !match)
    {
        QString name = it->first;
        ColourMap other_colours = it->second;
        match = colours.equal(other_colours);
        if (match)
        {
            found_name = it->first;
            break;
        }
        it++;
    }
    return match;
}